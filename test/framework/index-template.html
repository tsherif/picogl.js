<!DOCTYPE html>
<html>
<head>
    <title>PicoGL Tests</title>
    <style>
        #qunit-banner,#qunit-filteredTest,#qunit-header,#qunit-testresult,#qunit-testrunner-toolbar,#qunit-tests,#qunit-userAgent{font-family:"Helvetica Neue Light", "HelveticaNeue-Light", "Helvetica Neue", Calibri, Helvetica, Arial, sans-serif}#qunit-filteredTest,#qunit-testresult,#qunit-testrunner-toolbar,#qunit-tests li,#qunit-userAgent{font-size:small}#qunit-tests{font-size:smaller}#qunit-banner,#qunit-filteredTest,#qunit-header,#qunit-modulefilter,#qunit-testresult,#qunit-tests,#qunit-userAgent{margin:0;padding:0}#qunit-header{padding:0.5em 0 0.5em 1em;color:#8699A4;background-color:#0D3349;font-size:1.5em;line-height:1em;font-weight:400;border-radius:5px 5px 0 0}#qunit-header a{text-decoration:none;color:#C2CCD1}#qunit-header a:focus,#qunit-header a:hover{color:#FFF}#qunit-banner{height:5px}#qunit-filteredTest{padding:0.5em 1em;color:#366097;background-color:#F4FF77}#qunit-userAgent{padding:0.5em 1em;color:#FFF;background-color:#2B81AF;text-shadow:rgba(0, 0, 0, 0.5) 2px 2px 1px}#qunit-testrunner-toolbar{padding:0.5em 1em;color:#5E740B;background-color:#EEE}#qunit-testrunner-toolbar .clearfix{height:0;clear:both}#qunit-testrunner-toolbar label{display:inline-block}#qunit-testrunner-toolbar input[type=checkbox],#qunit-testrunner-toolbar input[type=radio]{margin:3px;vertical-align:-2px}#qunit-testrunner-toolbar input[type=text]{box-sizing:border-box;height:1.6em}#qunit-modulefilter,.qunit-filter,.qunit-url-config{display:inline-block;line-height:2.1em}#qunit-modulefilter,.qunit-filter{float:right;position:relative;margin-left:1em}.qunit-url-config label{margin-right:0.5em}#qunit-modulefilter-search{box-sizing:border-box;width:400px}#qunit-modulefilter-search-container:after{position:absolute;right:0.3em;content:"\25bc";color:black}#qunit-modulefilter-dropdown{box-sizing:border-box;width:400px;position:absolute;right:0;top:50%;margin-top:0.8em;border:1px solid #D3D3D3;border-top:none;border-radius:0 0 0.25em 0.25em;color:#000;background-color:#F5F5F5;z-index:99}#qunit-modulefilter-dropdown a{color:inherit;text-decoration:none}#qunit-modulefilter-dropdown .clickable.checked{font-weight:bold;color:#000;background-color:#D2E0E6}#qunit-modulefilter-dropdown .clickable:hover{color:#FFF;background-color:#0D3349}#qunit-modulefilter-actions{display:block;overflow:auto;font:smaller/1.5em sans-serif}#qunit-modulefilter-dropdown #qunit-modulefilter-actions > *{box-sizing:border-box;max-height:2.8em;display:block;padding:0.4em}#qunit-modulefilter-dropdown #qunit-modulefilter-actions > button{float:right;font:inherit}#qunit-modulefilter-dropdown #qunit-modulefilter-actions > :last-child{padding-left:3px}#qunit-modulefilter-dropdown-list{max-height:200px;overflow-y:auto;margin:0;border-top:2px groove threedhighlight;padding:0.4em 0 0;font:smaller/1.5em sans-serif}#qunit-modulefilter-dropdown-list li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#qunit-modulefilter-dropdown-list .clickable{display:block;padding-left:0.15em}#qunit-tests{list-style-position:inside}#qunit-tests li{padding:0.4em 1em;border-bottom:1px solid #FFF;list-style-position:inside}#qunit-tests > li{display:none}#qunit-tests li.aborted,#qunit-tests li.fail,#qunit-tests li.pass,#qunit-tests li.running,#qunit-tests li.skipped{display:list-item}#qunit-tests.hidepass{position:relative}#qunit-tests.hidepass li.pass:not(.todo),#qunit-tests.hidepass li.running{visibility:hidden;position:absolute;width:0;height:0;padding:0;border:0;margin:0}#qunit-tests li strong{cursor:pointer}#qunit-tests li.skipped strong{cursor:default}#qunit-tests li a{padding:0.5em;color:#C2CCD1;text-decoration:none}#qunit-tests li p a{padding:0.25em;color:#6B6464}#qunit-tests li a:focus,#qunit-tests li a:hover{color:#000}#qunit-tests li .runtime{float:right;font-size:smaller}.qunit-assert-list{margin-top:0.5em;padding:0.5em;background-color:#FFF;border-radius:5px}.qunit-source{margin:0.6em 0 0.3em}.qunit-collapsed{display:none}#qunit-tests table{border-collapse:collapse;margin-top:0.2em}#qunit-tests th{text-align:right;vertical-align:top;padding:0 0.5em 0 0}#qunit-tests td{vertical-align:top}#qunit-tests pre{margin:0;white-space:pre-wrap;word-wrap:break-word}#qunit-tests del{color:#374E0C;background-color:#E0F2BE;text-decoration:none}#qunit-tests ins{color:#500;background-color:#FFCACA;text-decoration:none}#qunit-tests b.counts{color:#000}#qunit-tests b.passed{color:#5E740B}#qunit-tests b.failed{color:#710909}#qunit-tests li li{padding:5px;background-color:#FFF;border-bottom:none;list-style-position:inside}#qunit-tests li li.pass{color:#3C510C;background-color:#FFF;border-left:10px solid #C6E746}#qunit-tests .pass{color:#528CE0;background-color:#D2E0E6}#qunit-tests .pass .test-name{color:#366097}#qunit-tests .pass .test-actual,#qunit-tests .pass .test-expected{color:#999}#qunit-banner.qunit-pass{background-color:#C6E746}#qunit-tests li li.fail{color:#710909;background-color:#FFF;border-left:10px solid #EE5757;white-space:pre}#qunit-tests > li:last-child{border-radius:0 0 5px 5px}#qunit-tests .fail{color:#000;background-color:#EE5757}#qunit-tests .fail .module-name,#qunit-tests .fail .test-name{color:#000}#qunit-tests .fail .test-actual{color:#EE5757}#qunit-tests .fail .test-expected{color:#008000}#qunit-banner.qunit-fail{background-color:#EE5757}#qunit-tests .aborted{color:#000;background-color:orange}#qunit-tests .skipped{background-color:#EBECE9}#qunit-tests .qunit-skipped-label,#qunit-tests .qunit-todo-label{background-color:#F4FF77;display:inline-block;font-style:normal;color:#366097;line-height:1.8em;padding:0 0.5em;margin:-0.4em 0.4em -0.4em 0}#qunit-tests .qunit-todo-label{background-color:#EEE}#qunit-testresult{color:#2B81AF;background-color:#D2E0E6;border-bottom:1px solid #FFF}#qunit-testresult .clearfix{height:0;clear:both}#qunit-testresult .module-name{font-weight:700}#qunit-testresult-display{padding:0.5em 1em;width:85%;float:left}#qunit-testresult-controls{padding:0.5em 1em;width:10%;float:left}#qunit-fixture{position:absolute;top:-10000px;left:-10000px;width:1000px;height:1000px}
    </style>
    <script>
        (function(global$1){'use strict';global$1=global$1&&global$1.hasOwnProperty('default')?global$1['default']:global$1;var window$1=global$1.window;var self$1=global$1.self;var console=global$1.console;var setTimeout$1=global$1.setTimeout;var clearTimeout=global$1.clearTimeout;var document$1=window$1&&window$1.document;var navigator=window$1&&window$1.navigator;var localSessionStorage=function(){var x="qunit-test-string";try{global$1.sessionStorage.setItem(x,x);global$1.sessionStorage.removeItem(x);return global$1.sessionStorage}catch(e){return undefined}}();function consoleProxy(method){return function(){if(console){console[method].apply(console,arguments)}}}var Logger={warn:consoleProxy("warn")};var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}};var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i+=1){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor){descriptor.writable=true}Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps){defineProperties(Constructor.prototype,protoProps)}if(staticProps){defineProperties(Constructor,staticProps)}return Constructor}}();var toConsumableArray=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i+=1){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}};var toString=Object.prototype.toString;var hasOwn=Object.prototype.hasOwnProperty;var now=Date.now||function(){return new Date().getTime()};var hasPerformanceApi=detectPerformanceApi();var performance=hasPerformanceApi?window$1.performance:undefined;var performanceNow=hasPerformanceApi?performance.now.bind(performance):now;function detectPerformanceApi(){return window$1&&typeof window$1.performance!=="undefined"&&typeof window$1.performance.mark==="function"&&typeof window$1.performance.measure==="function"}function measure(comment,startMark,endMark){try{performance.measure(comment,startMark,endMark)}catch(ex){Logger.warn("performance.measure could not be executed because of ",ex.message)}}var defined={document:window$1&&window$1.document!==undefined,setTimeout:setTimeout$1!==undefined};function diff(a,b){var i,j,result=a.slice();for(i=0;i<result.length;i+=1){for(j=0;j<b.length;j+=1){if(result[i]===b[j]){result.splice(i,1);i-=1;break}}}return result}function inArray(elem,array){return array.indexOf(elem)!==-1}function objectValues(obj){var key,val,vals=is("array",obj)?[]:{};for(key in obj){if(hasOwn.call(obj,key)){val=obj[key];vals[key]=val===Object(val)?objectValues(val):val}}return vals}function extend(a,b,undefOnly){for(var prop in b){if(hasOwn.call(b,prop)){if(b[prop]===undefined){delete a[prop]}else if(!(undefOnly&&typeof a[prop]!=="undefined")){a[prop]=b[prop]}}}return a}function objectType(obj){if(typeof obj==="undefined"){return "undefined"}if(obj===null){return "null"}var match=toString.call(obj).match(/^\[object\s(.*)\]$/),type=match&&match[1];switch(type){case "Number":if(isNaN(obj)){return "nan"}return "number";case "String":case "Boolean":case "Array":case "Set":case "Map":case "Date":case "RegExp":case "Function":case "Symbol":return type.toLowerCase();default:return typeof obj==="undefined"?"undefined":_typeof(obj)}}function is(type,obj){return objectType(obj)===type}function generateHash(module,testName){var str=module+"\x1C"+testName;var hash=0;for(var i=0;i<str.length;i+=1){hash=(hash<<5)-hash+str.charCodeAt(i);hash|=0}var hex=(0x100000000+hash).toString(16);if(hex.length<8){hex="0000000"+hex}return hex.slice(-8)}var equiv=(function(){var pairs=[];var getProto=Object.getPrototypeOf||function(obj){return obj.__proto__};function useStrictEquality(a,b){if((typeof a==="undefined"?"undefined":_typeof(a))==="object"){a=a.valueOf()}if((typeof b==="undefined"?"undefined":_typeof(b))==="object"){b=b.valueOf()}return a===b}function compareConstructors(a,b){var protoA=getProto(a);var protoB=getProto(b);if(a.constructor===b.constructor){return true}if(protoA&&protoA.constructor===null){protoA=null}if(protoB&&protoB.constructor===null){protoB=null}if(protoA===null&&protoB===Object.prototype||protoB===null&&protoA===Object.prototype){return true}return false}function getRegExpFlags(regexp){return "flags"in regexp?regexp.flags:regexp.toString().match(/[gimuy]*$/)[0]}function isContainer(val){return["object","array","map","set"].indexOf(objectType(val))!==-1}function breadthFirstCompareChild(a,b){if(a===b){return true}if(!isContainer(a)){return typeEquiv(a,b)}if(pairs.every(function(pair){return pair.a!==a||pair.b!==b})){pairs.push({a:a,b:b})}return true}var callbacks={"string":useStrictEquality,"boolean":useStrictEquality,"number":useStrictEquality,"null":useStrictEquality,"undefined":useStrictEquality,"symbol":useStrictEquality,"date":useStrictEquality,"nan":function nan(){return true},"regexp":function regexp(a,b){return a.source===b.source&&getRegExpFlags(a)===getRegExpFlags(b)},"function":function _function(){return false},"array":function array(a,b){var i,len;len=a.length;if(len!==b.length){return false}for(i=0;i<len;i+=1){if(!breadthFirstCompareChild(a[i],b[i])){return false}}return true},"set":function set$$1(a,b){var innerEq,outerEq=true;if(a.size!==b.size){return false}a.forEach(function(aVal){if(!outerEq){return}innerEq=false;b.forEach(function(bVal){var parentPairs;if(innerEq){return}parentPairs=pairs;if(innerEquiv(bVal,aVal)){innerEq=true}pairs=parentPairs});if(!innerEq){outerEq=false}});return outerEq},"map":function map(a,b){var innerEq,outerEq=true;if(a.size!==b.size){return false}a.forEach(function(aVal,aKey){if(!outerEq){return}innerEq=false;b.forEach(function(bVal,bKey){var parentPairs;if(innerEq){return}parentPairs=pairs;if(innerEquiv([bVal,bKey],[aVal,aKey])){innerEq=true}pairs=parentPairs});if(!innerEq){outerEq=false}});return outerEq},"object":function object(a,b){var i,aProperties=[],bProperties=[];if(compareConstructors(a,b)===false){return false}for(i in a){aProperties.push(i);if(a.constructor!==Object&&typeof a.constructor!=="undefined"&&typeof a[i]==="function"&&typeof b[i]==="function"&&a[i].toString()===b[i].toString()){continue}if(!breadthFirstCompareChild(a[i],b[i])){return false}}for(i in b){bProperties.push(i)}return typeEquiv(aProperties.sort(),bProperties.sort())}};function typeEquiv(a,b){var type=objectType(a);return objectType(b)===type&&callbacks[type](a,b)}function innerEquiv(a,b){var i,pair;if(arguments.length<2){return true}pairs=[{a:a,b:b}];for(i=0;i<pairs.length;i+=1){pair=pairs[i];if(pair.a!==pair.b&&!typeEquiv(pair.a,pair.b)){return false}}return arguments.length===2||innerEquiv.apply(this,[].slice.call(arguments,1))}return function(){var result=innerEquiv.apply(undefined,arguments);pairs.length=0;return result}})();var config={queue:[],blocking:true,reorder:true,altertitle:true,collapse:true,scrolltop:true,maxDepth:5,requireExpects:false,urlConfig:[],modules:[],currentModule:{name:"",tests:[],childModules:[],testsRun:0,unskippedTestsRun:0,hooks:{before:[],beforeEach:[],afterEach:[],after:[]}},callbacks:{},storage:localSessionStorage};var globalConfig=window$1&&window$1.QUnit&&window$1.QUnit.config;if(window$1&&window$1.QUnit&&!window$1.QUnit.version){extend(config,globalConfig)}config.modules.push(config.currentModule);var dump=(function(){function quote(str){return "\""+str.toString().replace(/\\/g,"\\\\").replace(/"/g,"\\\"")+"\""}function literal(o){return o+""}function join(pre,arr,post){var s=dump.separator(),base=dump.indent(),inner=dump.indent(1);if(arr.join){arr=arr.join(","+s+inner)}if(!arr){return pre+post}return[pre,inner+arr,base+post].join(s)}function array(arr,stack){var i=arr.length,ret=[i];if(dump.maxDepth&&dump.depth>dump.maxDepth){return "[object Array]"}this.up();while(i--){ret[i]=this.parse(arr[i],undefined,stack)}this.down();return join("[",ret,"]")}function isArray(obj){return(toString.call(obj)==="[object Array]"||typeof obj.length==="number"&&obj.item!==undefined&&(obj.length?obj.item(0)===obj[0]:obj.item(0)===null&&obj[0]===undefined))}var reName=/^function (\w+)/,dump={parse:function parse(obj,objType,stack){stack=stack||[];var res,parser,parserType,objIndex=stack.indexOf(obj);if(objIndex!==-1){return "recursion("+(objIndex-stack.length)+")"}objType=objType||this.typeOf(obj);parser=this.parsers[objType];parserType=typeof parser==="undefined"?"undefined":_typeof(parser);if(parserType==="function"){stack.push(obj);res=parser.call(this,obj,stack);stack.pop();return res}return parserType==="string"?parser:this.parsers.error},typeOf:function typeOf(obj){var type;if(obj===null){type="null"}else if(typeof obj==="undefined"){type="undefined"}else if(is("regexp",obj)){type="regexp"}else if(is("date",obj)){type="date"}else if(is("function",obj)){type="function"}else if(obj.setInterval!==undefined&&obj.document!==undefined&&obj.nodeType===undefined){type="window"}else if(obj.nodeType===9){type="document"}else if(obj.nodeType){type="node"}else if(isArray(obj)){type="array"}else if(obj.constructor===Error.prototype.constructor){type="error"}else{type=typeof obj==="undefined"?"undefined":_typeof(obj)}return type},separator:function separator(){if(this.multiline){return this.HTML?"<br />":"\n"}else{return this.HTML?"&#160;":" "}},indent:function indent(extra){if(!this.multiline){return ""}var chr=this.indentChar;if(this.HTML){chr=chr.replace(/\t/g,"   ").replace(/ /g,"&#160;")}return[this.depth+(extra||0)].join(chr)},up:function up(a){this.depth+=a||1},down:function down(a){this.depth-=a||1},setParser:function setParser(name,parser){this.parsers[name]=parser},quote:quote,literal:literal,join:join,depth:1,maxDepth:config.maxDepth,parsers:{window:"[Window]",document:"[Document]",error:function error(_error){return "Error(\""+_error.message+"\")"},unknown:"[Unknown]","null":"null","undefined":"undefined","function":function _function(fn){var ret="function",name="name"in fn?fn.name:(reName.exec(fn)||[])[1];if(name){ret+=" "+name}ret+="(";ret=[ret,dump.parse(fn,"functionArgs"),"){"].join("");return join(ret,dump.parse(fn,"functionCode"),"}")},array:array,nodelist:array,"arguments":array,object:function object(map,stack){var keys,key,val,i,nonEnumerableProperties,ret=[];if(dump.maxDepth&&dump.depth>dump.maxDepth){return "[object Object]"}dump.up();keys=[];for(key in map){keys.push(key)}nonEnumerableProperties=["message","name"];for(i in nonEnumerableProperties){key=nonEnumerableProperties[i];if(key in map&&!inArray(key,keys)){keys.push(key)}}keys.sort();for(i=0;i<keys.length;i+=1){key=keys[i];val=map[key];ret.push(dump.parse(key,"key")+": "+dump.parse(val,undefined,stack))}dump.down();return join("{",ret,"}")},node:function node(_node){var len,i,val,open=dump.HTML?"&lt;":"<",close=dump.HTML?"&gt;":">",tag=_node.nodeName.toLowerCase(),ret=open+tag,attrs=_node.attributes;if(attrs){for(i=0,len=attrs.length;i<len;i+=1){val=attrs[i].nodeValue;if(val&&val!=="inherit"){ret+=" "+attrs[i].nodeName+"="+dump.parse(val,"attribute")}}}ret+=close;if(_node.nodeType===3||_node.nodeType===4){ret+=_node.nodeValue}return ret+open+"/"+tag+close},functionArgs:function functionArgs(fn){var args,l=fn.length;if(!l){return ""}args=[l];while(l--){args[l]=String.fromCharCode(97+l)}return " "+args.join(", ")+" "},key:quote,functionCode:"[code]",attribute:quote,string:quote,date:quote,regexp:literal,number:literal,"boolean":literal,symbol:function symbol(sym){return sym.toString()}},HTML:false,indentChar:"  ",multiline:true};return dump})();var SuiteReport=function(){function SuiteReport(name,parentSuite){classCallCheck(this,SuiteReport);this.name=name;this.fullName=parentSuite?parentSuite.fullName.concat(name):[];this.tests=[];this.childSuites=[];if(parentSuite){parentSuite.pushChildSuite(this)}}createClass(SuiteReport,[{key:"start",value:function start(recordTime){if(recordTime){this._startTime=performanceNow();if(performance){var suiteLevel=this.fullName.length;performance.mark("qunit_suite_"+suiteLevel+"_start")}}return{name:this.name,fullName:this.fullName.slice(),tests:this.tests.map(function(test){return test.start()}),childSuites:this.childSuites.map(function(suite){return suite.start()}),testCounts:{total:this.getTestCounts().total}}}},{key:"end",value:function end(recordTime){if(recordTime){this._endTime=performanceNow();if(performance){var suiteLevel=this.fullName.length;performance.mark("qunit_suite_"+suiteLevel+"_end");var suiteName=this.fullName.join(" – ");measure(suiteLevel===0?"QUnit Test Run":"QUnit Test Suite: "+suiteName,"qunit_suite_"+suiteLevel+"_start","qunit_suite_"+suiteLevel+"_end")}}return{name:this.name,fullName:this.fullName.slice(),tests:this.tests.map(function(test){return test.end()}),childSuites:this.childSuites.map(function(suite){return suite.end()}),testCounts:this.getTestCounts(),runtime:this.getRuntime(),status:this.getStatus()}}},{key:"pushChildSuite",value:function pushChildSuite(suite){this.childSuites.push(suite)}},{key:"pushTest",value:function pushTest(test){this.tests.push(test)}},{key:"getRuntime",value:function getRuntime(){return this._endTime-this._startTime}},{key:"getTestCounts",value:function getTestCounts(){var counts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{passed:0,failed:0,skipped:0,todo:0,total:0};counts=this.tests.reduce(function(counts,test){if(test.valid){counts[test.getStatus()]+=1;counts.total+=1}return counts},counts);return this.childSuites.reduce(function(counts,suite){return suite.getTestCounts(counts)},counts)}},{key:"getStatus",value:function getStatus(){var _getTestCounts=this.getTestCounts(),total=_getTestCounts.total,failed=_getTestCounts.failed,skipped=_getTestCounts.skipped,todo=_getTestCounts.todo;if(failed){return "failed"}else{if(skipped===total){return "skipped"}else if(todo===total){return "todo"}else{return "passed"}}}}]);return SuiteReport}();var focused=false;var moduleStack=[];function createModule(name,testEnvironment,modifiers){var parentModule=moduleStack.length?moduleStack.slice(-1)[0]:null;var moduleName=parentModule!==null?[parentModule.name,name].join(" > "):name;var parentSuite=parentModule?parentModule.suiteReport:globalSuite;var skip=parentModule!==null&&parentModule.skip||modifiers.skip;var todo=parentModule!==null&&parentModule.todo||modifiers.todo;var module={name:moduleName,parentModule:parentModule,tests:[],moduleId:generateHash(moduleName),testsRun:0,unskippedTestsRun:0,childModules:[],suiteReport:new SuiteReport(name,parentSuite),skip:skip,todo:skip?false:todo};var env={};if(parentModule){parentModule.childModules.push(module);extend(env,parentModule.testEnvironment)}extend(env,testEnvironment);module.testEnvironment=env;config.modules.push(module);return module}function processModule(name,options,executeNow){var modifiers=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(objectType(options)==="function"){executeNow=options;options=undefined}var module=createModule(name,options,modifiers);var testEnvironment=module.testEnvironment;var hooks=module.hooks={};setHookFromEnvironment(hooks,testEnvironment,"before");setHookFromEnvironment(hooks,testEnvironment,"beforeEach");setHookFromEnvironment(hooks,testEnvironment,"afterEach");setHookFromEnvironment(hooks,testEnvironment,"after");var moduleFns={before:setHookFunction(module,"before"),beforeEach:setHookFunction(module,"beforeEach"),afterEach:setHookFunction(module,"afterEach"),after:setHookFunction(module,"after")};var currentModule=config.currentModule;if(objectType(executeNow)==="function"){moduleStack.push(module);config.currentModule=module;executeNow.call(module.testEnvironment,moduleFns);moduleStack.pop();module=module.parentModule||currentModule}config.currentModule=module;function setHookFromEnvironment(hooks,environment,name){var potentialHook=environment[name];hooks[name]=typeof potentialHook==="function"?[potentialHook]:[];delete environment[name]}function setHookFunction(module,hookName){return function setHook(callback){module.hooks[hookName].push(callback)}}}function module$1(name,options,executeNow){if(focused){return}processModule(name,options,executeNow)}module$1.only=function(){if(focused){return}config.modules.length=0;config.queue.length=0;module$1.apply(undefined,arguments);focused=true};module$1.skip=function(name,options,executeNow){if(focused){return}processModule(name,options,executeNow,{skip:true})};module$1.todo=function(name,options,executeNow){if(focused){return}processModule(name,options,executeNow,{todo:true})};var LISTENERS=Object.create(null);var SUPPORTED_EVENTS=["runStart","suiteStart","testStart","assertion","testEnd","suiteEnd","runEnd"];function emit(eventName,data){if(objectType(eventName)!=="string"){throw new TypeError("eventName must be a string when emitting an event")}var originalCallbacks=LISTENERS[eventName];var callbacks=originalCallbacks?[].concat(toConsumableArray(originalCallbacks)):[];for(var i=0;i<callbacks.length;i+=1){callbacks[i](data)}}function on(eventName,callback){if(objectType(eventName)!=="string"){throw new TypeError("eventName must be a string when registering a listener")}else if(!inArray(eventName,SUPPORTED_EVENTS)){var events=SUPPORTED_EVENTS.join(", ");throw new Error("\""+eventName+"\" is not a valid event; must be one of: "+events+".")}else if(objectType(callback)!=="function"){throw new TypeError("callback must be a function when registering a listener")}if(!LISTENERS[eventName]){LISTENERS[eventName]=[]}if(!inArray(callback,LISTENERS[eventName])){LISTENERS[eventName].push(callback)}}function objectOrFunction(x){var type=typeof x==='undefined'?'undefined':_typeof(x);return x!==null&&(type==='object'||type==='function')}function isFunction(x){return typeof x==='function'}var _isArray=void 0;if(Array.isArray){_isArray=Array.isArray}else{_isArray=function _isArray(x){return Object.prototype.toString.call(x)==='[object Array]'}}var isArray=_isArray;var len=0;var vertxNext=void 0;var customSchedulerFn=void 0;var asap=function asap(callback,arg){queue[len]=callback;queue[len+1]=arg;len+=2;if(len===2){if(customSchedulerFn){customSchedulerFn(flush)}else{scheduleFlush()}}};function setScheduler(scheduleFn){customSchedulerFn=scheduleFn}function setAsap(asapFn){asap=asapFn}var browserWindow=typeof window!=='undefined'?window:undefined;var browserGlobal=browserWindow||{};var BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver;var isNode=typeof self==='undefined'&&typeof process!=='undefined'&&{}.toString.call(process)==='[object process]';var isWorker=typeof Uint8ClampedArray!=='undefined'&&typeof importScripts!=='undefined'&&typeof MessageChannel!=='undefined';function useNextTick(){return function(){return process.nextTick(flush)}}function useVertxTimer(){if(typeof vertxNext!=='undefined'){return function(){vertxNext(flush)}}return useSetTimeout()}function useMutationObserver(){var iterations=0;var observer=new BrowserMutationObserver(flush);var node=document.createTextNode('');observer.observe(node,{characterData:true});return function(){node.data=iterations= ++iterations%2}}function useMessageChannel(){var channel=new MessageChannel();channel.port1.onmessage=flush;return function(){return channel.port2.postMessage(0)}}function useSetTimeout(){var globalSetTimeout=setTimeout;return function(){return globalSetTimeout(flush,1)}}var queue=[1000];function flush(){for(var i=0;i<len;i+=2){var callback=queue[i];var arg=queue[i+1];callback(arg);queue[i]=undefined;queue[i+1]=undefined}len=0}function attemptVertx(){try{var vertx=Function('return this')().require('vertx');vertxNext=vertx.runOnLoop||vertx.runOnContext;return useVertxTimer()}catch(e){return useSetTimeout()}}var scheduleFlush=void 0;if(isNode){scheduleFlush=useNextTick()}else if(BrowserMutationObserver){scheduleFlush=useMutationObserver()}else if(isWorker){scheduleFlush=useMessageChannel()}else if(browserWindow===undefined&&typeof require==='function'){scheduleFlush=attemptVertx()}else{scheduleFlush=useSetTimeout()}function then(onFulfillment,onRejection){var parent=this;var child=new this.constructor(noop);if(child[PROMISE_ID]===undefined){makePromise(child)}var _state=parent._state;if(_state){var callback=arguments[_state-1];asap(function(){return invokeCallback(_state,child,callback,parent._result)})}else{subscribe(parent,child,onFulfillment,onRejection)}return child}function resolve$1(object){var Constructor=this;if(object&&(typeof object==='undefined'?'undefined':_typeof(object))==='object'&&object.constructor===Constructor){return object}var promise=new Constructor(noop);resolve(promise,object);return promise}var PROMISE_ID=Math.random().toString(36).substring(2);function noop(){}var PENDING=void 0;var FULFILLED=1;var REJECTED=2;var TRY_CATCH_ERROR={error:null};function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function cannotReturnOwn(){return new TypeError('A promises callback cannot return that same promise.')}function getThen(promise){try{return promise.then}catch(error){TRY_CATCH_ERROR.error=error;return TRY_CATCH_ERROR}}function tryThen(then$$1,value,fulfillmentHandler,rejectionHandler){try{then$$1.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function handleForeignThenable(promise,thenable,then$$1){asap(function(promise){var sealed=false;var error=tryThen(then$$1,thenable,function(value){if(sealed){return}sealed=true;if(thenable!==value){resolve(promise,value)}else{fulfill(promise,value)}},function(reason){if(sealed){return}sealed=true;reject(promise,reason)},'Settle: '+(promise._label||' unknown promise'));if(!sealed&&error){sealed=true;reject(promise,error)}},promise)}function handleOwnThenable(promise,thenable){if(thenable._state===FULFILLED){fulfill(promise,thenable._result)}else if(thenable._state===REJECTED){reject(promise,thenable._result)}else{subscribe(thenable,undefined,function(value){return resolve(promise,value)},function(reason){return reject(promise,reason)})}}function handleMaybeThenable(promise,maybeThenable,then$$1){if(maybeThenable.constructor===promise.constructor&&then$$1===then&&maybeThenable.constructor.resolve===resolve$1){handleOwnThenable(promise,maybeThenable)}else{if(then$$1===TRY_CATCH_ERROR){reject(promise,TRY_CATCH_ERROR.error);TRY_CATCH_ERROR.error=null}else if(then$$1===undefined){fulfill(promise,maybeThenable)}else if(isFunction(then$$1)){handleForeignThenable(promise,maybeThenable,then$$1)}else{fulfill(promise,maybeThenable)}}}function resolve(promise,value){if(promise===value){reject(promise,selfFulfillment())}else if(objectOrFunction(value)){handleMaybeThenable(promise,value,getThen(value))}else{fulfill(promise,value)}}function publishRejection(promise){if(promise._onerror){promise._onerror(promise._result)}publish(promise)}function fulfill(promise,value){if(promise._state!==PENDING){return}promise._result=value;promise._state=FULFILLED;if(promise._subscribers.length!==0){asap(publish,promise)}}function reject(promise,reason){if(promise._state!==PENDING){return}promise._state=REJECTED;promise._result=reason;asap(publishRejection,promise)}function subscribe(parent,child,onFulfillment,onRejection){var _subscribers=parent._subscribers;var length=_subscribers.length;parent._onerror=null;_subscribers[length]=child;_subscribers[length+FULFILLED]=onFulfillment;_subscribers[length+REJECTED]=onRejection;if(length===0&&parent._state){asap(publish,parent)}}function publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(subscribers.length===0){return}var child=void 0,callback=void 0,detail=promise._result;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];if(child){invokeCallback(settled,child,callback,detail)}else{callback(detail)}}promise._subscribers.length=0}function tryCatch(callback,detail){try{return callback(detail)}catch(e){TRY_CATCH_ERROR.error=e;return TRY_CATCH_ERROR}}function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value=void 0,error=void 0,succeeded=void 0,failed=void 0;if(hasCallback){value=tryCatch(callback,detail);if(value===TRY_CATCH_ERROR){failed=true;error=value.error;value.error=null}else{succeeded=true}if(promise===value){reject(promise,cannotReturnOwn());return}}else{value=detail;succeeded=true}if(promise._state!==PENDING){}else if(hasCallback&&succeeded){resolve(promise,value)}else if(failed){reject(promise,error)}else if(settled===FULFILLED){fulfill(promise,value)}else if(settled===REJECTED){reject(promise,value)}}function initializePromise(promise,resolver){try{resolver(function resolvePromise(value){resolve(promise,value)},function rejectPromise(reason){reject(promise,reason)})}catch(e){reject(promise,e)}}var id=0;function nextId(){return id++}function makePromise(promise){promise[PROMISE_ID]=id++;promise._state=undefined;promise._result=undefined;promise._subscribers=[]}function validationError(){return new Error('Array Methods must be provided an Array')}var Enumerator=function(){function Enumerator(Constructor,input){classCallCheck(this,Enumerator);this._instanceConstructor=Constructor;this.promise=new Constructor(noop);if(!this.promise[PROMISE_ID]){makePromise(this.promise)}if(isArray(input)){this.length=input.length;this._remaining=input.length;this._result=[this.length];if(this.length===0){fulfill(this.promise,this._result)}else{this.length=this.length||0;this._enumerate(input);if(this._remaining===0){fulfill(this.promise,this._result)}}}else{reject(this.promise,validationError())}}createClass(Enumerator,[{key:'_enumerate',value:function _enumerate(input){for(var i=0;this._state===PENDING&&i<input.length;i+=1){this._eachEntry(input[i],i)}}},{key:'_eachEntry',value:function _eachEntry(entry,i){var c=this._instanceConstructor;var resolve$$1=c.resolve;if(resolve$$1===resolve$1){var _then=getThen(entry);if(_then===then&&entry._state!==PENDING){this._settledAt(entry._state,i,entry._result)}else if(typeof _then!=='function'){this._remaining-=1;this._result[i]=entry}else if(c===Promise$2){var promise=new c(noop);handleMaybeThenable(promise,entry,_then);this._willSettleAt(promise,i)}else{this._willSettleAt(new c(function(resolve$$1){return resolve$$1(entry)}),i)}}else{this._willSettleAt(resolve$$1(entry),i)}}},{key:'_settledAt',value:function _settledAt(state,i,value){var promise=this.promise;if(promise._state===PENDING){this._remaining-=1;if(state===REJECTED){reject(promise,value)}else{this._result[i]=value}}if(this._remaining===0){fulfill(promise,this._result)}}},{key:'_willSettleAt',value:function _willSettleAt(promise,i){var enumerator=this;subscribe(promise,undefined,function(value){return enumerator._settledAt(FULFILLED,i,value)},function(reason){return enumerator._settledAt(REJECTED,i,reason)})}}]);return Enumerator}();function all(entries){return new Enumerator(this,entries).promise}function race(entries){var Constructor=this;if(!isArray(entries)){return new Constructor(function(_,reject){return reject(new TypeError('You must pass an array to race.'))})}else{return new Constructor(function(resolve,reject){var length=entries.length;for(var i=0;i<length;i+=1){Constructor.resolve(entries[i]).then(resolve,reject)}})}}function reject$1(reason){var Constructor=this;var promise=new Constructor(noop);reject(promise,reason);return promise}function needsResolver(){throw new TypeError('You must pass a resolver function as the first argument to the promise constructor')}function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Promise$2=function(){function Promise(resolver){classCallCheck(this,Promise);this[PROMISE_ID]=nextId();this._result=this._state=undefined;this._subscribers=[];if(noop!==resolver){typeof resolver!=='function'&&needsResolver();this instanceof Promise?initializePromise(this,resolver):needsNew()}}createClass(Promise,[{key:'catch',value:function _catch(onRejection){return this.then(null,onRejection)}},{key:'finally',value:function _finally(callback){var promise=this;var constructor=promise.constructor;if(isFunction(callback)){return promise.then(function(value){return constructor.resolve(callback()).then(function(){return value})},function(reason){return constructor.resolve(callback()).then(function(){throw reason})})}return promise.then(callback,callback)}}]);return Promise}();Promise$2.prototype.then=then;Promise$2.all=all;Promise$2.race=race;Promise$2.resolve=resolve$1;Promise$2.reject=reject$1;Promise$2._setScheduler=setScheduler;Promise$2._setAsap=setAsap;Promise$2._asap=asap;function polyfill(){var local=void 0;if(typeof global!=='undefined'){local=global}else if(typeof self!=='undefined'){local=self}else{try{local=Function('return this')()}catch(e){throw new Error('polyfill failed because global object is unavailable in this environment')}}var P=local.Promise;if(P){var promiseToString=null;try{promiseToString=Object.prototype.toString.call(P.resolve())}catch(e){}if(promiseToString==='[object Promise]'&&!P.cast){return}}local.Promise=Promise$2}Promise$2.polyfill=polyfill;Promise$2.Promise=Promise$2;var Promise$1=typeof Promise!=="undefined"?Promise:Promise$2;function registerLoggingCallbacks(obj){var i,l,key,callbackNames=["begin","done","log","testStart","testDone","moduleStart","moduleDone"];function registerLoggingCallback(key){var loggingCallback=function loggingCallback(callback){if(objectType(callback)!=="function"){throw new Error("QUnit logging methods require a callback function as their first parameters.")}config.callbacks[key].push(callback)};return loggingCallback}for(i=0,l=callbackNames.length;i<l;i+=1){key=callbackNames[i];if(objectType(config.callbacks[key])==="undefined"){config.callbacks[key]=[]}obj[key]=registerLoggingCallback(key)}}function runLoggingCallbacks(key,args){var callbacks=config.callbacks[key];if(key==="log"){callbacks.map(function(callback){return callback(args)});return}return callbacks.reduce(function(promiseChain,callback){return promiseChain.then(function(){return Promise$1.resolve(callback(args))})},Promise$1.resolve([]))}var fileName=(sourceFromStacktrace(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,"");function extractStacktrace(e,offset){offset=offset===undefined?4:offset;var stack,include,i;if(e&&e.stack){stack=e.stack.split("\n");if(/^error$/i.test(stack[0])){stack.shift()}if(fileName){include=[];for(i=offset;i<stack.length;i+=1){if(stack[i].indexOf(fileName)!==-1){break}include.push(stack[i])}if(include.length){return include.join("\n")}}return stack[offset]}}function sourceFromStacktrace(offset){var error=new Error();if(!error.stack){try{throw error}catch(err){error=err}}return extractStacktrace(error,offset)}var priorityCount=0;var unitSampler=void 0;var taskQueue=[];function advance(){advanceTaskQueue();if(!taskQueue.length&&!config.blocking&&!config.current){advanceTestQueue()}}function advanceTaskQueue(){var start=now();config.depth=(config.depth||0)+1;processTaskQueue(start);config.depth-=1}function processTaskQueue(start){if(taskQueue.length&&!config.blocking){var elapsedTime=now()-start;if(!defined.setTimeout||config.updateRate<=0||elapsedTime<config.updateRate){var task=taskQueue.shift();Promise$1.resolve(task()).then(function(){if(!taskQueue.length){advance()}else{processTaskQueue(start)}})}else{setTimeout$1(advance)}}}function advanceTestQueue(){if(!config.blocking&&!config.queue.length&&config.depth===0){done();return}var testTasks=config.queue.shift();addToTaskQueue(testTasks());if(priorityCount>0){priorityCount-=1}advance()}function addToTaskQueue(tasksArray){taskQueue.push.apply(taskQueue,toConsumableArray(tasksArray))}function taskQueueLength(){return taskQueue.length}function addToTestQueue(testTasksFunc,prioritize,seed){if(prioritize){config.queue.splice(priorityCount++,0,testTasksFunc)}else if(seed){if(!unitSampler){unitSampler=unitSamplerGenerator(seed)}var index=Math.floor(unitSampler()*(config.queue.length-priorityCount+1));config.queue.splice(priorityCount+index,0,testTasksFunc)}else{config.queue.push(testTasksFunc)}}function unitSamplerGenerator(seed){var sample=parseInt(generateHash(seed),16)||-1;return function(){sample^=sample<<13;sample^=sample>>>17;sample^=sample<<5;if(sample<0){sample+=0x100000000}return sample/0x100000000}}function done(){var storage=config.storage;ProcessingQueue.finished=true;var runtime=now()-config.started;var passed=config.stats.all-config.stats.bad;if(config.stats.all===0){if(config.filter&&config.filter.length){throw new Error("No tests matched the filter \""+config.filter+"\".")}if(config.module&&config.module.length){throw new Error("No tests matched the module \""+config.module+"\".")}if(config.moduleId&&config.moduleId.length){throw new Error("No tests matched the moduleId \""+config.moduleId+"\".")}if(config.testId&&config.testId.length){throw new Error("No tests matched the testId \""+config.testId+"\".")}throw new Error("No tests were run.")}emit("runEnd",globalSuite.end(true));runLoggingCallbacks("done",{passed:passed,failed:config.stats.bad,total:config.stats.all,runtime:runtime}).then(function(){if(storage&&config.stats.bad===0){for(var i=storage.length-1;i>=0;i-=1){var key=storage.key(i);if(key.indexOf("qunit-test-")===0){storage.removeItem(key)}}}})}var ProcessingQueue={finished:false,add:addToTestQueue,advance:advance,taskCount:taskQueueLength};var TestReport=function(){function TestReport(name,suite,options){classCallCheck(this,TestReport);this.name=name;this.suiteName=suite.name;this.fullName=suite.fullName.concat(name);this.runtime=0;this.assertions=[];this.skipped=!!options.skip;this.todo=!!options.todo;this.valid=options.valid;this._startTime=0;this._endTime=0;suite.pushTest(this)}createClass(TestReport,[{key:"start",value:function start(recordTime){if(recordTime){this._startTime=performanceNow();if(performance){performance.mark("qunit_test_start")}}return{name:this.name,suiteName:this.suiteName,fullName:this.fullName.slice()}}},{key:"end",value:function end(recordTime){if(recordTime){this._endTime=performanceNow();if(performance){performance.mark("qunit_test_end");var testName=this.fullName.join(" – ");measure("QUnit Test: "+testName,"qunit_test_start","qunit_test_end")}}return extend(this.start(),{runtime:this.getRuntime(),status:this.getStatus(),errors:this.getFailedAssertions(),assertions:this.getAssertions()})}},{key:"pushAssertion",value:function pushAssertion(assertion){this.assertions.push(assertion)}},{key:"getRuntime",value:function getRuntime(){return this._endTime-this._startTime}},{key:"getStatus",value:function getStatus(){if(this.skipped){return "skipped"}var testPassed=this.getFailedAssertions().length>0?this.todo:!this.todo;if(!testPassed){return "failed"}else if(this.todo){return "todo"}else{return "passed"}}},{key:"getFailedAssertions",value:function getFailedAssertions(){return this.assertions.filter(function(assertion){return!assertion.passed})}},{key:"getAssertions",value:function getAssertions(){return this.assertions.slice()}},{key:"slimAssertions",value:function slimAssertions(){this.assertions=this.assertions.map(function(assertion){delete assertion.actual;delete assertion.expected;return assertion})}}]);return TestReport}();var focused$1=false;function Test(settings){var i,l;++Test.count;this.expected=null;this.assertions=[];this.semaphore=0;this.module=config.currentModule;this.stack=sourceFromStacktrace(3);this.steps=[];this.timeout=undefined;if(this.module.skip){settings.skip=true;settings.todo=false;}else if(this.module.todo&&!settings.skip){settings.todo=true}extend(this,settings);this.testReport=new TestReport(settings.testName,this.module.suiteReport,{todo:settings.todo,skip:settings.skip,valid:this.valid()});for(i=0,l=this.module.tests;i<l.length;i+=1){if(this.module.tests[i].name===this.testName){this.testName+=" "}}this.testId=generateHash(this.module.name,this.testName);this.module.tests.push({name:this.testName,testId:this.testId,skip:!!settings.skip});if(settings.skip){this.callback=function(){};this.async=false;this.expected=0}else{if(typeof this.callback!=="function"){var method=this.todo?"todo":"test";throw new TypeError("You must provide a function as a test callback to QUnit."+method+"(\""+settings.testName+"\")")}this.assert=new Assert(this)}}Test.count=0;function getNotStartedModules(startModule){var module=startModule,modules=[];while(module&&module.testsRun===0){modules.push(module);module=module.parentModule}return modules.reverse()}Test.prototype={before:function before(){var _this=this;var module=this.module,notStartedModules=getNotStartedModules(module);var callbackPromises=notStartedModules.reduce(function(promiseChain,startModule){return promiseChain.then(function(){startModule.stats={all:0,bad:0,started:now()};emit("suiteStart",startModule.suiteReport.start(true));return runLoggingCallbacks("moduleStart",{name:startModule.name,tests:startModule.tests})})},Promise$1.resolve([]));return callbackPromises.then(function(){config.current=_this;_this.testEnvironment=extend({},module.testEnvironment);_this.started=now();emit("testStart",_this.testReport.start(true));return runLoggingCallbacks("testStart",{name:_this.testName,module:module.name,testId:_this.testId,previousFailure:_this.previousFailure}).then(function(){if(!config.pollution){saveGlobal()}})})},run:function run(){var promise;config.current=this;this.callbackStarted=now();if(config.notrycatch){runTest(this);return}try{runTest(this)}catch(e){this.pushFailure("Died on test #"+(this.assertions.length+1)+" "+this.stack+": "+(e.message||e),extractStacktrace(e,0));saveGlobal();if(config.blocking){internalRecover(this)}}function runTest(test){promise=test.callback.call(test.testEnvironment,test.assert);test.resolvePromise(promise);if(test.timeout===0&&test.semaphore!==0){pushFailure("Test did not finish synchronously even though assert.timeout( 0 ) was used.",sourceFromStacktrace(2))}}},after:function after(){checkPollution()},queueHook:function queueHook(hook,hookName,hookOwner){var _this2=this;var callHook=function callHook(){var promise=hook.call(_this2.testEnvironment,_this2.assert);_this2.resolvePromise(promise,hookName)};var runHook=function runHook(){if(hookName==="before"){if(hookOwner.unskippedTestsRun!==0){return}_this2.preserveEnvironment=true}if(hookName==="after"&&hookOwner.unskippedTestsRun!==numberOfUnskippedTests(hookOwner)-1&&(config.queue.length>0||ProcessingQueue.taskCount()>2)){return}config.current=_this2;if(config.notrycatch){callHook();return}try{callHook()}catch(error){_this2.pushFailure(hookName+" failed on "+_this2.testName+": "+(error.message||error),extractStacktrace(error,0))}};return runHook},hooks:function hooks(handler){var hooks=[];function processHooks(test,module){if(module.parentModule){processHooks(test,module.parentModule)}if(module.hooks[handler].length){for(var i=0;i<module.hooks[handler].length;i+=1){hooks.push(test.queueHook(module.hooks[handler][i],handler,module))}}}if(!this.skip){processHooks(this,this.module)}return hooks},finish:function finish(){config.current=this;this.callback=undefined;if(this.steps.length){var stepsList=this.steps.join(", ");this.pushFailure("Expected assert.verifySteps() to be called before end of test "+("after using assert.step(). Unverified steps: "+stepsList),this.stack)}if(config.requireExpects&&this.expected===null){this.pushFailure("Expected number of assertions to be defined, but expect() was not called.",this.stack)}else if(this.expected!==null&&this.expected!==this.assertions.length){this.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack)}else if(this.expected===null&&!this.assertions.length){this.pushFailure("Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.",this.stack)}var i,module=this.module,moduleName=module.name,testName=this.testName,skipped=!!this.skip,todo=!!this.todo,bad=0,storage=config.storage;this.runtime=now()-this.started;config.stats.all+=this.assertions.length;module.stats.all+=this.assertions.length;for(i=0;i<this.assertions.length;i+=1){if(!this.assertions[i].result){bad+=1;config.stats.bad+=1;module.stats.bad+=1}}notifyTestsRan(module,skipped);if(storage){if(bad){storage.setItem("qunit-test-"+moduleName+"-"+testName,bad)}else{storage.removeItem("qunit-test-"+moduleName+"-"+testName)}}emit("testEnd",this.testReport.end(true));this.testReport.slimAssertions();return runLoggingCallbacks("testDone",{name:testName,module:moduleName,skipped:skipped,todo:todo,failed:bad,passed:this.assertions.length-bad,total:this.assertions.length,runtime:skipped?0:this.runtime,assertions:this.assertions,testId:this.testId,source:this.stack}).then(function(){if(module.testsRun===numberOfTests(module)){var completedModules=[module];var parent=module.parentModule;while(parent&&parent.testsRun===numberOfTests(parent)){completedModules.push(parent);parent=parent.parentModule}return completedModules.reduce(function(promiseChain,completedModule){return promiseChain.then(function(){return logSuiteEnd(completedModule)})},Promise$1.resolve([]))}}).then(function(){config.current=undefined});function logSuiteEnd(module){module.hooks={};emit("suiteEnd",module.suiteReport.end(true));return runLoggingCallbacks("moduleDone",{name:module.name,tests:module.tests,failed:module.stats.bad,passed:module.stats.all-module.stats.bad,total:module.stats.all,runtime:now()-module.stats.started})}},preserveTestEnvironment:function preserveTestEnvironment(){if(this.preserveEnvironment){this.module.testEnvironment=this.testEnvironment;this.testEnvironment=extend({},this.module.testEnvironment)}},queue:function queue(){var test=this;if(!this.valid()){return}function runTest(){return[function(){return test.before()}].concat(toConsumableArray(test.hooks("before")),[function(){test.preserveTestEnvironment()}],toConsumableArray(test.hooks("beforeEach")),[function(){test.run()}],toConsumableArray(test.hooks("afterEach").reverse()),toConsumableArray(test.hooks("after").reverse()),[function(){test.after()},function(){return test.finish()}])}var previousFailCount=config.storage&& +config.storage.getItem("qunit-test-"+this.module.name+"-"+this.testName);var prioritize=config.reorder&&!!previousFailCount;this.previousFailure=!!previousFailCount;ProcessingQueue.add(runTest,prioritize,config.seed);if(ProcessingQueue.finished){ProcessingQueue.advance()}},pushResult:function pushResult(resultInfo){if(this!==config.current){throw new Error("Assertion occurred after test had finished.")}var source,details={module:this.module.name,name:this.testName,result:resultInfo.result,message:resultInfo.message,actual:resultInfo.actual,testId:this.testId,negative:resultInfo.negative||false,runtime:now()-this.started,todo:!!this.todo};if(hasOwn.call(resultInfo,"expected")){details.expected=resultInfo.expected}if(!resultInfo.result){source=resultInfo.source||sourceFromStacktrace();if(source){details.source=source}}this.logAssertion(details);this.assertions.push({result:!!resultInfo.result,message:resultInfo.message})},pushFailure:function pushFailure(message,source,actual){if(!(this instanceof Test)){throw new Error("pushFailure() assertion outside test context, was "+sourceFromStacktrace(2))}this.pushResult({result:false,message:message||"error",actual:actual||null,source:source})},logAssertion:function logAssertion(details){runLoggingCallbacks("log",details);var assertion={passed:details.result,actual:details.actual,expected:details.expected,message:details.message,stack:details.source,todo:details.todo};this.testReport.pushAssertion(assertion);emit("assertion",assertion)},resolvePromise:function resolvePromise(promise,phase){var then,resume,message,test=this;if(promise!=null){then=promise.then;if(objectType(then)==="function"){resume=internalStop(test);if(config.notrycatch){then.call(promise,function(){resume()})}else{then.call(promise,function(){resume()},function(error){message="Promise rejected "+(!phase?"during":phase.replace(/Each$/,""))+" \""+test.testName+"\": "+(error&&error.message||error);test.pushFailure(message,extractStacktrace(error,0));saveGlobal();internalRecover(test)})}}}},valid:function valid(){var filter=config.filter,regexFilter=/^(!?)\/([\w\W]*)\/(i?$)/.exec(filter),module=config.module&&config.module.toLowerCase(),fullName=this.module.name+": "+this.testName;function moduleChainNameMatch(testModule){var testModuleName=testModule.name?testModule.name.toLowerCase():null;if(testModuleName===module){return true}else if(testModule.parentModule){return moduleChainNameMatch(testModule.parentModule)}else{return false}}function moduleChainIdMatch(testModule){return inArray(testModule.moduleId,config.moduleId)||testModule.parentModule&&moduleChainIdMatch(testModule.parentModule)}if(this.callback&&this.callback.validTest){return true}if(config.moduleId&&config.moduleId.length>0&&!moduleChainIdMatch(this.module)){return false}if(config.testId&&config.testId.length>0&&!inArray(this.testId,config.testId)){return false}if(module&&!moduleChainNameMatch(this.module)){return false}if(!filter){return true}return regexFilter?this.regexFilter(!!regexFilter[1],regexFilter[2],regexFilter[3],fullName):this.stringFilter(filter,fullName)},regexFilter:function regexFilter(exclude,pattern,flags,fullName){var regex=new RegExp(pattern,flags);var match=regex.test(fullName);return match!==exclude},stringFilter:function stringFilter(filter,fullName){filter=filter.toLowerCase();fullName=fullName.toLowerCase();var include=filter.charAt(0)!=="!";if(!include){filter=filter.slice(1)}if(fullName.indexOf(filter)!==-1){return include}return!include}};function pushFailure(){if(!config.current){throw new Error("pushFailure() assertion outside test context, in "+sourceFromStacktrace(2))}var currentTest=config.current;return currentTest.pushFailure.apply(currentTest,arguments)}function saveGlobal(){config.pollution=[];if(config.noglobals){for(var key in global$1){if(hasOwn.call(global$1,key)){if(/^qunit-test-output/.test(key)){continue}config.pollution.push(key)}}}}function checkPollution(){var newGlobals,deletedGlobals,old=config.pollution;saveGlobal();newGlobals=diff(config.pollution,old);if(newGlobals.length>0){pushFailure("Introduced global variable(s): "+newGlobals.join(", "))}deletedGlobals=diff(old,config.pollution);if(deletedGlobals.length>0){pushFailure("Deleted global variable(s): "+deletedGlobals.join(", "))}}function test(testName,callback){if(focused$1){return}var newTest=new Test({testName:testName,callback:callback});newTest.queue()}function todo(testName,callback){if(focused$1){return}var newTest=new Test({testName:testName,callback:callback,todo:true});newTest.queue()}function skip(testName){if(focused$1){return}var test=new Test({testName:testName,skip:true});test.queue()}function only(testName,callback){if(focused$1){return}config.queue.length=0;focused$1=true;var newTest=new Test({testName:testName,callback:callback});newTest.queue()}function internalStop(test){var released=false;test.semaphore+=1;config.blocking=true;if(defined.setTimeout){var timeoutDuration=void 0;if(typeof test.timeout==="number"){timeoutDuration=test.timeout}else if(typeof config.testTimeout==="number"){timeoutDuration=config.testTimeout}if(typeof timeoutDuration==="number"&&timeoutDuration>0){clearTimeout(config.timeout);config.timeout=setTimeout$1(function(){pushFailure("Test took longer than "+timeoutDuration+"ms; test timed out.",sourceFromStacktrace(2));released=true;internalRecover(test)},timeoutDuration)}}return function resume(){if(released){return}released=true;test.semaphore-=1;internalStart(test)}}function internalRecover(test){test.semaphore=0;internalStart(test)}function internalStart(test){if(isNaN(test.semaphore)){test.semaphore=0;pushFailure("Invalid value on test.semaphore",sourceFromStacktrace(2));return}if(test.semaphore>0){return}if(test.semaphore<0){test.semaphore=0;pushFailure("Tried to restart test while already started (test's semaphore was 0 already)",sourceFromStacktrace(2));return}if(defined.setTimeout){if(config.timeout){clearTimeout(config.timeout)}config.timeout=setTimeout$1(function(){if(test.semaphore>0){return}if(config.timeout){clearTimeout(config.timeout)}begin()})}else{begin()}}function collectTests(module){var tests=[].concat(module.tests);var modules=[].concat(toConsumableArray(module.childModules));while(modules.length){var nextModule=modules.shift();tests.push.apply(tests,nextModule.tests);modules.push.apply(modules,toConsumableArray(nextModule.childModules))}return tests}function numberOfTests(module){return collectTests(module).length}function numberOfUnskippedTests(module){return collectTests(module).filter(function(test){return!test.skip}).length}function notifyTestsRan(module,skipped){module.testsRun+=1;if(!skipped){module.unskippedTestsRun+=1}while(module=module.parentModule){module.testsRun+=1;if(!skipped){module.unskippedTestsRun+=1}}}var Assert=function(){function Assert(testContext){classCallCheck(this,Assert);this.test=testContext}createClass(Assert,[{key:"timeout",value:function timeout(duration){if(typeof duration!=="number"){throw new Error("You must pass a number as the duration to assert.timeout")}this.test.timeout=duration}},{key:"step",value:function step(message){var assertionMessage=message;var result=!!message;this.test.steps.push(message);if(objectType(message)==="undefined"||message===""){assertionMessage="You must provide a message to assert.step"}else if(objectType(message)!=="string"){assertionMessage="You must provide a string value to assert.step";result=false}this.pushResult({result:result,message:assertionMessage})}},{key:"verifySteps",value:function verifySteps(steps,message){var actualStepsClone=this.test.steps.slice();this.deepEqual(actualStepsClone,steps,message);this.test.steps.length=0}},{key:"expect",value:function expect(asserts){if(arguments.length===1){this.test.expected=asserts}else{return this.test.expected}}},{key:"async",value:function async(count){var test$$1=this.test;var popped=false,acceptCallCount=count;if(typeof acceptCallCount==="undefined"){acceptCallCount=1}var resume=internalStop(test$$1);return function done(){if(config.current!==test$$1){throw Error("assert.async callback called after test finished.")}if(popped){test$$1.pushFailure("Too many calls to the `assert.async` callback",sourceFromStacktrace(2));return}acceptCallCount-=1;if(acceptCallCount>0){return}popped=true;resume()}}},{key:"push",value:function push(result,actual,expected,message,negative){Logger.warn("assert.push is deprecated and will be removed in QUnit 3.0. Please use assert.pushResult instead (https://api.qunitjs.com/assert/pushResult).");var currentAssert=this instanceof Assert?this:config.current.assert;return currentAssert.pushResult({result:result,actual:actual,expected:expected,message:message,negative:negative})}},{key:"pushResult",value:function pushResult(resultInfo){var assert=this;var currentTest=assert instanceof Assert&&assert.test||config.current;if(!currentTest){throw new Error("assertion outside test context, in "+sourceFromStacktrace(2))}if(!(assert instanceof Assert)){assert=currentTest.assert}return assert.test.pushResult(resultInfo)}},{key:"ok",value:function ok(result,message){if(!message){message=result?"okay":"failed, expected argument to be truthy, was: "+dump.parse(result)}this.pushResult({result:!!result,actual:result,expected:true,message:message})}},{key:"notOk",value:function notOk(result,message){if(!message){message=!result?"okay":"failed, expected argument to be falsy, was: "+dump.parse(result)}this.pushResult({result:!result,actual:result,expected:false,message:message})}},{key:"equal",value:function equal(actual,expected,message){var result=expected==actual;this.pushResult({result:result,actual:actual,expected:expected,message:message})}},{key:"notEqual",value:function notEqual(actual,expected,message){var result=expected!=actual;this.pushResult({result:result,actual:actual,expected:expected,message:message,negative:true})}},{key:"propEqual",value:function propEqual(actual,expected,message){actual=objectValues(actual);expected=objectValues(expected);this.pushResult({result:equiv(actual,expected),actual:actual,expected:expected,message:message})}},{key:"notPropEqual",value:function notPropEqual(actual,expected,message){actual=objectValues(actual);expected=objectValues(expected);this.pushResult({result:!equiv(actual,expected),actual:actual,expected:expected,message:message,negative:true})}},{key:"deepEqual",value:function deepEqual(actual,expected,message){this.pushResult({result:equiv(actual,expected),actual:actual,expected:expected,message:message})}},{key:"notDeepEqual",value:function notDeepEqual(actual,expected,message){this.pushResult({result:!equiv(actual,expected),actual:actual,expected:expected,message:message,negative:true})}},{key:"strictEqual",value:function strictEqual(actual,expected,message){this.pushResult({result:expected===actual,actual:actual,expected:expected,message:message})}},{key:"notStrictEqual",value:function notStrictEqual(actual,expected,message){this.pushResult({result:expected!==actual,actual:actual,expected:expected,message:message,negative:true})}},{key:"throws",value:function throws(block,expected,message){var actual=void 0,result=false;var currentTest=this instanceof Assert&&this.test||config.current;if(objectType(expected)==="string"){if(message==null){message=expected;expected=null}else{throw new Error("throws/raises does not accept a string value for the expected argument.\nUse a non-string object value (e.g. regExp) instead if it's necessary.")}}currentTest.ignoreGlobalErrors=true;try{block.call(currentTest.testEnvironment)}catch(e){actual=e}currentTest.ignoreGlobalErrors=false;if(actual){var expectedType=objectType(expected);if(!expected){result=true;}else if(expectedType==="regexp"){result=expected.test(errorString(actual));expected=String(expected);}else if(expectedType==="function"&&actual instanceof expected){result=true;}else if(expectedType==="object"){result=actual instanceof expected.constructor&&actual.name===expected.name&&actual.message===expected.message;expected=errorString(expected);}else if(expectedType==="function"&&expected.call({},actual)===true){expected=null;result=true}}currentTest.assert.pushResult({result:result,actual:actual&&errorString(actual),expected:expected,message:message})}},{key:"rejects",value:function rejects(promise,expected,message){var result=false;var currentTest=this instanceof Assert&&this.test||config.current;if(objectType(expected)==="string"){if(message===undefined){message=expected;expected=undefined}else{message="assert.rejects does not accept a string value for the expected argument.\nUse a non-string object value (e.g. validator function) instead if necessary.";currentTest.assert.pushResult({result:false,message:message});return}}var then=promise&&promise.then;if(objectType(then)!=="function"){var _message="The value provided to `assert.rejects` in \""+currentTest.testName+"\" was not a promise.";currentTest.assert.pushResult({result:false,message:_message,actual:promise});return}var done=this.async();return then.call(promise,function handleFulfillment(){var message="The promise returned by the `assert.rejects` callback in \""+currentTest.testName+"\" did not reject.";currentTest.assert.pushResult({result:false,message:message,actual:promise});done()},function handleRejection(actual){var expectedType=objectType(expected);if(expected===undefined){result=true;}else if(expectedType==="regexp"){result=expected.test(errorString(actual));expected=String(expected);}else if(expectedType==="function"&&actual instanceof expected){result=true;}else if(expectedType==="object"){result=actual instanceof expected.constructor&&actual.name===expected.name&&actual.message===expected.message;expected=errorString(expected);}else{if(expectedType==="function"){result=expected.call({},actual)===true;expected=null;}else{result=false;message="invalid expected value provided to `assert.rejects` callback in \""+currentTest.testName+"\": "+expectedType+"."}}currentTest.assert.pushResult({result:result,actual:actual&&errorString(actual),expected:expected,message:message});done()})}}]);return Assert}();Assert.prototype.raises=Assert.prototype["throws"];function errorString(error){var resultErrorString=error.toString();if(resultErrorString.substring(0,7)==="[object"){var name=error.name?error.name.toString():"Error";var message=error.message?error.message.toString():"";if(name&&message){return name+": "+message}else if(name){return name}else if(message){return message}else{return "Error"}}else{return resultErrorString}}function exportQUnit(QUnit){if(defined.document){if(window$1.QUnit&&window$1.QUnit.version){throw new Error("QUnit has already been defined.")}window$1.QUnit=QUnit}if(typeof module!=="undefined"&&module&&module.exports){module.exports=QUnit;module.exports.QUnit=QUnit}if(typeof exports!=="undefined"&&exports){exports.QUnit=QUnit}if(typeof define==="function"&&define.amd){define(function(){return QUnit});QUnit.config.autostart=false}if(self$1&&self$1.WorkerGlobalScope&&self$1 instanceof self$1.WorkerGlobalScope){self$1.QUnit=QUnit}}function onError(error){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key+=1){args[_key-1]=arguments[_key]}if(config.current){if(config.current.ignoreGlobalErrors){return true}pushFailure.apply(undefined,[error.message,error.stacktrace||error.fileName+":"+error.lineNumber].concat(args))}else{test("global failure",extend(function(){pushFailure.apply(undefined,[error.message,error.stacktrace||error.fileName+":"+error.lineNumber].concat(args))},{validTest:true}))}return false}function onUnhandledRejection(reason){var resultInfo={result:false,message:reason.message||"error",actual:reason,source:reason.stack||sourceFromStacktrace(3)};var currentTest=config.current;if(currentTest){currentTest.assert.pushResult(resultInfo)}else{test("global failure",extend(function(assert){assert.pushResult(resultInfo)},{validTest:true}))}}var QUnit={};var globalSuite=new SuiteReport();config.currentModule.suiteReport=globalSuite;var globalStartCalled=false;var runStarted=false;QUnit.isLocal=!(defined.document&&window$1.location.protocol!=="file:");QUnit.version="2.9.2";extend(QUnit,{on:on,module:module$1,test:test,todo:todo,skip:skip,only:only,start:function start(count){var globalStartAlreadyCalled=globalStartCalled;if(!config.current){globalStartCalled=true;if(runStarted){throw new Error("Called start() while test already started running")}else if(globalStartAlreadyCalled||count>1){throw new Error("Called start() outside of a test context too many times")}else if(config.autostart){throw new Error("Called start() outside of a test context when QUnit.config.autostart was true")}else if(!config.pageLoaded){config.autostart=true;if(!defined.document){QUnit.load()}return}}else{throw new Error("QUnit.start cannot be called inside a test context.")}scheduleBegin()},config:config,is:is,objectType:objectType,extend:extend,load:function load(){config.pageLoaded=true;extend(config,{stats:{all:0,bad:0},started:0,updateRate:1000,autostart:true,filter:""},true);if(!runStarted){config.blocking=false;if(config.autostart){scheduleBegin()}}},stack:function stack(offset){offset=(offset||0)+2;return sourceFromStacktrace(offset)},onError:onError,onUnhandledRejection:onUnhandledRejection});QUnit.pushFailure=pushFailure;QUnit.assert=Assert.prototype;QUnit.equiv=equiv;QUnit.dump=dump;registerLoggingCallbacks(QUnit);function scheduleBegin(){runStarted=true;if(defined.setTimeout){setTimeout$1(function(){begin()})}else{begin()}}function unblockAndAdvanceQueue(){config.blocking=false;ProcessingQueue.advance()}function begin(){var i,l,modulesLog=[];if(!config.started){config.started=now();if(config.modules[0].name===""&&config.modules[0].tests.length===0){config.modules.shift()}for(i=0,l=config.modules.length;i<l;i+=1){modulesLog.push({name:config.modules[i].name,tests:config.modules[i].tests})}emit("runStart",globalSuite.start(true));runLoggingCallbacks("begin",{totalTests:Test.count,modules:modulesLog}).then(unblockAndAdvanceQueue)}else{unblockAndAdvanceQueue()}}exportQUnit(QUnit);(function(){if(typeof window$1==="undefined"||typeof document$1==="undefined"){return}var config=QUnit.config,hasOwn=Object.prototype.hasOwnProperty;function storeFixture(){if(hasOwn.call(config,"fixture")){return}var fixture=document$1.getElementById("qunit-fixture");if(fixture){config.fixture=fixture.cloneNode(true)}}QUnit.begin(storeFixture);function resetFixture(){if(config.fixture==null){return}var fixture=document$1.getElementById("qunit-fixture");var resetFixtureType=_typeof(config.fixture);if(resetFixtureType==="string"){var newFixture=document$1.createElement("div");newFixture.setAttribute("id","qunit-fixture");newFixture.innerHTML=config.fixture;fixture.parentNode.replaceChild(newFixture,fixture)}else{var clonedFixture=config.fixture.cloneNode(true);fixture.parentNode.replaceChild(clonedFixture,fixture)}}QUnit.testStart(resetFixture)})();(function(){var location=typeof window$1!=="undefined"&&window$1.location;if(!location){return}var urlParams=getUrlParams();QUnit.urlParams=urlParams;QUnit.config.moduleId=[].concat(urlParams.moduleId||[]);QUnit.config.testId=[].concat(urlParams.testId||[]);QUnit.config.module=urlParams.module;QUnit.config.filter=urlParams.filter;if(urlParams.seed===true){QUnit.config.seed=Math.random().toString(36).slice(2)}else if(urlParams.seed){QUnit.config.seed=urlParams.seed}QUnit.config.urlConfig.push({id:"hidepassed",label:"Hide passed tests",tooltip:"Only show tests and assertions that fail. Stored as query-strings."},{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the global object (`window` in Browsers). Stored as query-strings."},{id:"notrycatch",label:"No try-catch",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings."});QUnit.begin(function(){var i,option,urlConfig=QUnit.config.urlConfig;for(i=0;i<urlConfig.length;i+=1){option=QUnit.config.urlConfig[i];if(typeof option!=="string"){option=option.id}if(QUnit.config[option]===undefined){QUnit.config[option]=urlParams[option]}}});function getUrlParams(){var i,param,name,value;var urlParams=Object.create(null);var params=location.search.slice(1).split("&");var length=params.length;for(i=0;i<length;i+=1){if(params[i]){param=params[i].split("=");name=decodeQueryParam(param[0]);value=param.length===1||decodeQueryParam(param.slice(1).join("="));if(name in urlParams){urlParams[name]=[].concat(urlParams[name],value)}else{urlParams[name]=value}}}return urlParams}function decodeQueryParam(param){return decodeURIComponent(param.replace(/\+/g,"%20"))}})();var stats={passedTests:0,failedTests:0,skippedTests:0,todoTests:0};function escapeText(s){if(!s){return ""}s=s+"";return s.replace(/['"<>&]/g,function(s){switch(s){case "'":return "&#039;";case "\"":return "&quot;";case "<":return "&lt;";case ">":return "&gt;";case "&":return "&amp;"}})}(function(){if(typeof window$1==="undefined"||!window$1.document){return}var config=QUnit.config,hiddenTests=[],document=window$1.document,collapseNext=false,hasOwn=Object.prototype.hasOwnProperty,unfilteredUrl=setUrl({filter:undefined,module:undefined,moduleId:undefined,testId:undefined}),modulesList=[];function addEvent(elem,type,fn){elem.addEventListener(type,fn,false)}function removeEvent(elem,type,fn){elem.removeEventListener(type,fn,false)}function addEvents(elems,type,fn){var i=elems.length;while(i--){addEvent(elems[i],type,fn)}}function hasClass(elem,name){return(" "+elem.className+" ").indexOf(" "+name+" ")>=0}function addClass(elem,name){if(!hasClass(elem,name)){elem.className+=(elem.className?" ":"")+name}}function toggleClass(elem,name,force){if(force||typeof force==="undefined"&&!hasClass(elem,name)){addClass(elem,name)}else{removeClass(elem,name)}}function removeClass(elem,name){var set=" "+elem.className+" ";while(set.indexOf(" "+name+" ")>=0){set=set.replace(" "+name+" "," ")}elem.className=typeof set.trim==="function"?set.trim():set.replace(/^\s+|\s+$/g,"")}function id(name){return document.getElementById&&document.getElementById(name)}function abortTests(){var abortButton=id("qunit-abort-tests-button");if(abortButton){abortButton.disabled=true;abortButton.innerHTML="Aborting..."}QUnit.config.queue.length=0;return false}function interceptNavigation(ev){applyUrlParams();if(ev&&ev.preventDefault){ev.preventDefault()}return false}function getUrlConfigHtml(){var i,j,val,escaped,escapedTooltip,selection=false,urlConfig=config.urlConfig,urlConfigHtml="";for(i=0;i<urlConfig.length;i+=1){val=config.urlConfig[i];if(typeof val==="string"){val={id:val,label:val}}escaped=escapeText(val.id);escapedTooltip=escapeText(val.tooltip);if(!val.value||typeof val.value==="string"){urlConfigHtml+="<label for='qunit-urlconfig-"+escaped+"' title='"+escapedTooltip+"'><input id='qunit-urlconfig-"+escaped+"' name='"+escaped+"' type='checkbox'"+(val.value?" value='"+escapeText(val.value)+"'":"")+(config[val.id]?" checked='checked'":"")+" title='"+escapedTooltip+"' />"+escapeText(val.label)+"</label>"}else{urlConfigHtml+="<label for='qunit-urlconfig-"+escaped+"' title='"+escapedTooltip+"'>"+val.label+": </label><select id='qunit-urlconfig-"+escaped+"' name='"+escaped+"' title='"+escapedTooltip+"'><option></option>";if(QUnit.is("array",val.value)){for(j=0;j<val.value.length;j+=1){escaped=escapeText(val.value[j]);urlConfigHtml+="<option value='"+escaped+"'"+(config[val.id]===val.value[j]?(selection=true)&&" selected='selected'":"")+">"+escaped+"</option>"}}else{for(j in val.value){if(hasOwn.call(val.value,j)){urlConfigHtml+="<option value='"+escapeText(j)+"'"+(config[val.id]===j?(selection=true)&&" selected='selected'":"")+">"+escapeText(val.value[j])+"</option>"}}}if(config[val.id]&&!selection){escaped=escapeText(config[val.id]);urlConfigHtml+="<option value='"+escaped+"' selected='selected' disabled='disabled'>"+escaped+"</option>"}urlConfigHtml+="</select>"}}return urlConfigHtml}function toolbarChanged(){var updatedUrl,value,tests,field=this,params={};if("selectedIndex"in field){value=field.options[field.selectedIndex].value||undefined}else{value=field.checked?field.defaultValue||true:undefined}params[field.name]=value;updatedUrl=setUrl(params);if("hidepassed"===field.name&&"replaceState"in window$1.history){QUnit.urlParams[field.name]=value;config[field.name]=value||false;tests=id("qunit-tests");if(tests){var length=tests.children.length;var children=tests.children;if(field.checked){for(var i=0;i<length;i+=1){var test=children[i];if(test&&test.className.indexOf("pass")>-1){hiddenTests.push(test)}}var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=hiddenTests[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var hiddenTest=_step.value;tests.removeChild(hiddenTest)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}else{while((test=hiddenTests.pop())!=null){tests.appendChild(test)}}}window$1.history.replaceState(null,"",updatedUrl)}else{window$1.location=updatedUrl}}function setUrl(params){var key,arrValue,i,querystring="?",location=window$1.location;params=QUnit.extend(QUnit.extend({},QUnit.urlParams),params);for(key in params){if(hasOwn.call(params,key)&&params[key]!==undefined){arrValue=[].concat(params[key]);for(i=0;i<arrValue.length;i+=1){querystring+=encodeURIComponent(key);if(arrValue[i]!==true){querystring+="="+encodeURIComponent(arrValue[i])}querystring+="&"}}}return location.protocol+"//"+location.host+location.pathname+querystring.slice(0,-1)}function applyUrlParams(){var i,selectedModules=[],modulesList=id("qunit-modulefilter-dropdown-list").getElementsByTagName("input"),filter=id("qunit-filter-input").value;for(i=0;i<modulesList.length;i+=1){if(modulesList[i].checked){selectedModules.push(modulesList[i].value)}}window$1.location=setUrl({filter:filter===""?undefined:filter,moduleId:selectedModules.length===0?undefined:selectedModules,module:undefined,testId:undefined})}function toolbarUrlConfigContainer(){var urlConfigContainer=document.createElement("span");urlConfigContainer.innerHTML=getUrlConfigHtml();addClass(urlConfigContainer,"qunit-url-config");addEvents(urlConfigContainer.getElementsByTagName("input"),"change",toolbarChanged);addEvents(urlConfigContainer.getElementsByTagName("select"),"change",toolbarChanged);return urlConfigContainer}function abortTestsButton(){var button=document.createElement("button");button.id="qunit-abort-tests-button";button.innerHTML="Abort";addEvent(button,"click",abortTests);return button}function toolbarLooseFilter(){var filter=document.createElement("form"),label=document.createElement("label"),input=document.createElement("input"),button=document.createElement("button");addClass(filter,"qunit-filter");label.innerHTML="Filter: ";input.type="text";input.value=config.filter||"";input.name="filter";input.id="qunit-filter-input";button.innerHTML="Go";label.appendChild(input);filter.appendChild(label);filter.appendChild(document.createTextNode(" "));filter.appendChild(button);addEvent(filter,"submit",interceptNavigation);return filter}function moduleListHtml(){var i,checked,html="";for(i=0;i<config.modules.length;i+=1){if(config.modules[i].name!==""){checked=config.moduleId.indexOf(config.modules[i].moduleId)>-1;html+="<li><label class='clickable"+(checked?" checked":"")+"'><input type='checkbox' value='"+config.modules[i].moduleId+"'"+(checked?" checked='checked'":"")+" />"+escapeText(config.modules[i].name)+"</label></li>"}}return html}function toolbarModuleFilter(){var commit,reset,moduleFilter=document.createElement("form"),label=document.createElement("label"),moduleSearch=document.createElement("input"),dropDown=document.createElement("div"),actions=document.createElement("span"),applyButton=document.createElement("button"),resetButton=document.createElement("button"),allModulesLabel=document.createElement("label"),allCheckbox=document.createElement("input"),dropDownList=document.createElement("ul"),dirty=false;moduleSearch.id="qunit-modulefilter-search";moduleSearch.autocomplete="off";addEvent(moduleSearch,"input",searchInput);addEvent(moduleSearch,"input",searchFocus);addEvent(moduleSearch,"focus",searchFocus);addEvent(moduleSearch,"click",searchFocus);label.id="qunit-modulefilter-search-container";label.innerHTML="Module: ";label.appendChild(moduleSearch);applyButton.textContent="Apply";applyButton.style.display="none";resetButton.textContent="Reset";resetButton.type="reset";resetButton.style.display="none";allCheckbox.type="checkbox";allCheckbox.checked=config.moduleId.length===0;allModulesLabel.className="clickable";if(config.moduleId.length){allModulesLabel.className="checked"}allModulesLabel.appendChild(allCheckbox);allModulesLabel.appendChild(document.createTextNode("All modules"));actions.id="qunit-modulefilter-actions";actions.appendChild(applyButton);actions.appendChild(resetButton);actions.appendChild(allModulesLabel);commit=actions.firstChild;reset=commit.nextSibling;addEvent(commit,"click",applyUrlParams);dropDownList.id="qunit-modulefilter-dropdown-list";dropDownList.innerHTML=moduleListHtml();dropDown.id="qunit-modulefilter-dropdown";dropDown.style.display="none";dropDown.appendChild(actions);dropDown.appendChild(dropDownList);addEvent(dropDown,"change",selectionChange);selectionChange();moduleFilter.id="qunit-modulefilter";moduleFilter.appendChild(label);moduleFilter.appendChild(dropDown);addEvent(moduleFilter,"submit",interceptNavigation);addEvent(moduleFilter,"reset",function(){window$1.setTimeout(selectionChange)});function searchFocus(){if(dropDown.style.display!=="none"){return}dropDown.style.display="block";addEvent(document,"click",hideHandler);addEvent(document,"keydown",hideHandler);function hideHandler(e){var inContainer=moduleFilter.contains(e.target);if(e.keyCode===27||!inContainer){if(e.keyCode===27&&inContainer){moduleSearch.focus()}dropDown.style.display="none";removeEvent(document,"click",hideHandler);removeEvent(document,"keydown",hideHandler);moduleSearch.value="";searchInput()}}}function searchInput(){var i,item,searchText=moduleSearch.value.toLowerCase(),listItems=dropDownList.children;for(i=0;i<listItems.length;i+=1){item=listItems[i];if(!searchText||item.textContent.toLowerCase().indexOf(searchText)>-1){item.style.display=""}else{item.style.display="none"}}}function selectionChange(evt){var i,item,checkbox=evt&&evt.target||allCheckbox,modulesList=dropDownList.getElementsByTagName("input"),selectedNames=[];toggleClass(checkbox.parentNode,"checked",checkbox.checked);dirty=false;if(checkbox.checked&&checkbox!==allCheckbox){allCheckbox.checked=false;removeClass(allCheckbox.parentNode,"checked")}for(i=0;i<modulesList.length;i+=1){item=modulesList[i];if(!evt){toggleClass(item.parentNode,"checked",item.checked)}else if(checkbox===allCheckbox&&checkbox.checked){item.checked=false;removeClass(item.parentNode,"checked")}dirty=dirty||item.checked!==item.defaultChecked;if(item.checked){selectedNames.push(item.parentNode.textContent)}}commit.style.display=reset.style.display=dirty?"":"none";moduleSearch.placeholder=selectedNames.join(", ")||allCheckbox.parentNode.textContent;moduleSearch.title="Type to filter list. Current selection:\n"+(selectedNames.join("\n")||allCheckbox.parentNode.textContent)}return moduleFilter}function appendToolbar(){var toolbar=id("qunit-testrunner-toolbar");if(toolbar){toolbar.appendChild(toolbarUrlConfigContainer());toolbar.appendChild(toolbarModuleFilter());toolbar.appendChild(toolbarLooseFilter());toolbar.appendChild(document.createElement("div")).className="clearfix"}}function appendHeader(){var header=id("qunit-header");if(header){header.innerHTML="<a href='"+escapeText(unfilteredUrl)+"'>"+header.innerHTML+"</a> "}}function appendBanner(){var banner=id("qunit-banner");if(banner){banner.className=""}}function appendTestResults(){var tests=id("qunit-tests"),result=id("qunit-testresult"),controls;if(result){result.parentNode.removeChild(result)}if(tests){tests.innerHTML="";result=document.createElement("p");result.id="qunit-testresult";result.className="result";tests.parentNode.insertBefore(result,tests);result.innerHTML="<div id=\"qunit-testresult-display\">Running...<br />&#160;</div><div id=\"qunit-testresult-controls\"></div><div class=\"clearfix\"></div>";controls=id("qunit-testresult-controls")}if(controls){controls.appendChild(abortTestsButton())}}function appendFilteredTest(){var testId=QUnit.config.testId;if(!testId||testId.length<=0){return ""}return "<div id='qunit-filteredTest'>Rerunning selected tests: "+escapeText(testId.join(", "))+" <a id='qunit-clearFilter' href='"+escapeText(unfilteredUrl)+"'>Run all tests</a></div>"}function appendUserAgent(){var userAgent=id("qunit-userAgent");if(userAgent){userAgent.innerHTML="";userAgent.appendChild(document.createTextNode("QUnit "+QUnit.version+"; "+navigator.userAgent))}}function appendInterface(){var qunit=id("qunit");if(qunit){qunit.innerHTML="<h1 id='qunit-header'>"+escapeText(document.title)+"</h1><h2 id='qunit-banner'></h2><div id='qunit-testrunner-toolbar'></div>"+appendFilteredTest()+"<h2 id='qunit-userAgent'></h2><ol id='qunit-tests'></ol>"}appendHeader();appendBanner();appendTestResults();appendUserAgent();appendToolbar()}function appendTest(name,testId,moduleName){var title,rerunTrigger,testBlock,assertList,tests=id("qunit-tests");if(!tests){return}title=document.createElement("strong");title.innerHTML=getNameHtml(name,moduleName);rerunTrigger=document.createElement("a");rerunTrigger.innerHTML="Rerun";rerunTrigger.href=setUrl({testId:testId});testBlock=document.createElement("li");testBlock.appendChild(title);testBlock.appendChild(rerunTrigger);testBlock.id="qunit-test-output-"+testId;assertList=document.createElement("ol");assertList.className="qunit-assert-list";testBlock.appendChild(assertList);tests.appendChild(testBlock)}QUnit.begin(function(details){var i,moduleObj;for(i=0;i<details.modules.length;i+=1){moduleObj=details.modules[i];if(moduleObj.name){modulesList.push(moduleObj.name)}}modulesList.sort(function(a,b){return a.localeCompare(b)});appendInterface()});QUnit.done(function(details){var banner=id("qunit-banner"),tests=id("qunit-tests"),abortButton=id("qunit-abort-tests-button"),totalTests=stats.passedTests+stats.skippedTests+stats.todoTests+stats.failedTests,html=[totalTests," tests completed in ",details.runtime," milliseconds, with ",stats.failedTests," failed, ",stats.skippedTests," skipped, and ",stats.todoTests," todo.<br />","<span class='passed'>",details.passed,"</span> assertions of <span class='total'>",details.total,"</span> passed, <span class='failed'>",details.failed,"</span> failed."].join(""),test,assertLi,assertList;if(abortButton&&abortButton.disabled){html="Tests aborted after "+details.runtime+" milliseconds.";for(var i=0;i<tests.children.length;i+=1){test=tests.children[i];if(test.className===""||test.className==="running"){test.className="aborted";assertList=test.getElementsByTagName("ol")[0];assertLi=document.createElement("li");assertLi.className="fail";assertLi.innerHTML="Test aborted.";assertList.appendChild(assertLi)}}}if(banner&&(!abortButton||abortButton.disabled===false)){banner.className=stats.failedTests?"qunit-fail":"qunit-pass"}if(abortButton){abortButton.parentNode.removeChild(abortButton)}if(tests){id("qunit-testresult-display").innerHTML=html}if(config.altertitle&&document.title){document.title=[stats.failedTests?"\u2716":"\u2714",document.title.replace(/^[\u2714\u2716] /i,"")].join(" ")}if(config.scrolltop&&window$1.scrollTo){window$1.scrollTo(0,0)}});function getNameHtml(name,module){var nameHtml="";if(module){nameHtml="<span class='module-name'>"+escapeText(module)+"</span>: "}nameHtml+="<span class='test-name'>"+escapeText(name)+"</span>";return nameHtml}QUnit.testStart(function(details){var running,bad;appendTest(details.name,details.testId,details.module);running=id("qunit-testresult-display");if(running){addClass(running,"running");bad=QUnit.config.reorder&&details.previousFailure;running.innerHTML=[bad?"Rerunning previously failed test: <br />":"Running: <br />",getNameHtml(details.name,details.module)].join("")}});function stripHtml(string){return string.replace(/<\/?[^>]+(>|$)/g,"").replace(/&quot;/g,"").replace(/\s+/g,"")}QUnit.log(function(details){var assertList,assertLi,message,expected,actual,diff,showDiff=false,testItem=id("qunit-test-output-"+details.testId);if(!testItem){return}message=escapeText(details.message)||(details.result?"okay":"failed");message="<span class='test-message'>"+message+"</span>";message+="<span class='runtime'>@ "+details.runtime+" ms</span>";if(!details.result&&hasOwn.call(details,"expected")){if(details.negative){expected="NOT "+QUnit.dump.parse(details.expected)}else{expected=QUnit.dump.parse(details.expected)}actual=QUnit.dump.parse(details.actual);message+="<table><tr class='test-expected'><th>Expected: </th><td><pre>"+escapeText(expected)+"</pre></td></tr>";if(actual!==expected){message+="<tr class='test-actual'><th>Result: </th><td><pre>"+escapeText(actual)+"</pre></td></tr>";if(typeof details.actual==="number"&&typeof details.expected==="number"){if(!isNaN(details.actual)&&!isNaN(details.expected)){showDiff=true;diff=details.actual-details.expected;diff=(diff>0?"+":"")+diff}}else if(typeof details.actual!=="boolean"&&typeof details.expected!=="boolean"){diff=QUnit.diff(expected,actual);showDiff=stripHtml(diff).length!==stripHtml(expected).length+stripHtml(actual).length}if(showDiff){message+="<tr class='test-diff'><th>Diff: </th><td><pre>"+diff+"</pre></td></tr>"}}else if(expected.indexOf("[object Array]")!==-1||expected.indexOf("[object Object]")!==-1){message+="<tr class='test-message'><th>Message: </th><td>Diff suppressed as the depth of object is more than current max depth ("+QUnit.config.maxDepth+").<p>Hint: Use <code>QUnit.dump.maxDepth</code> to  run with a higher max depth or <a href='"+escapeText(setUrl({maxDepth:-1}))+"'>Rerun</a> without max depth.</p></td></tr>"}else{message+="<tr class='test-message'><th>Message: </th><td>Diff suppressed as the expected and actual results have an equivalent serialization</td></tr>"}if(details.source){message+="<tr class='test-source'><th>Source: </th><td><pre>"+escapeText(details.source)+"</pre></td></tr>"}message+="</table>";}else if(!details.result&&details.source){message+="<table><tr class='test-source'><th>Source: </th><td><pre>"+escapeText(details.source)+"</pre></td></tr></table>"}assertList=testItem.getElementsByTagName("ol")[0];assertLi=document.createElement("li");assertLi.className=details.result?"pass":"fail";assertLi.innerHTML=message;assertList.appendChild(assertLi)});QUnit.testDone(function(details){var testTitle,time,testItem,assertList,status,good,bad,testCounts,skipped,sourceName,tests=id("qunit-tests");if(!tests){return}testItem=id("qunit-test-output-"+details.testId);removeClass(testItem,"running");if(details.failed>0){status="failed"}else if(details.todo){status="todo"}else{status=details.skipped?"skipped":"passed"}assertList=testItem.getElementsByTagName("ol")[0];good=details.passed;bad=details.failed;var testPassed=details.failed>0?details.todo:!details.todo;if(testPassed){addClass(assertList,"qunit-collapsed")}else if(config.collapse){if(!collapseNext){collapseNext=true}else{addClass(assertList,"qunit-collapsed")}}testTitle=testItem.firstChild;testCounts=bad?"<b class='failed'>"+bad+"</b>, <b class='passed'>"+good+"</b>, ":"";testTitle.innerHTML+=" <b class='counts'>("+testCounts+details.assertions.length+")</b>";if(details.skipped){stats.skippedTests+=1;testItem.className="skipped";skipped=document.createElement("em");skipped.className="qunit-skipped-label";skipped.innerHTML="skipped";testItem.insertBefore(skipped,testTitle)}else{addEvent(testTitle,"click",function(){toggleClass(assertList,"qunit-collapsed")});testItem.className=testPassed?"pass":"fail";if(details.todo){var todoLabel=document.createElement("em");todoLabel.className="qunit-todo-label";todoLabel.innerHTML="todo";testItem.className+=" todo";testItem.insertBefore(todoLabel,testTitle)}time=document.createElement("span");time.className="runtime";time.innerHTML=details.runtime+" ms";testItem.insertBefore(time,assertList);if(!testPassed){stats.failedTests+=1}else if(details.todo){stats.todoTests+=1}else{stats.passedTests+=1}}if(details.source){sourceName=document.createElement("p");sourceName.innerHTML="<strong>Source: </strong>"+escapeText(details.source);addClass(sourceName,"qunit-source");if(testPassed){addClass(sourceName,"qunit-collapsed")}addEvent(testTitle,"click",function(){toggleClass(sourceName,"qunit-collapsed")});testItem.appendChild(sourceName)}if(config.hidepassed&&status==="passed"){hiddenTests.push(testItem);tests.removeChild(testItem)}});var notPhantom=function(p){return!(p&&p.version&&p.version.major>0)}(window$1.phantom);if(notPhantom&&document.readyState==="complete"){QUnit.load()}else{addEvent(window$1,"load",QUnit.load)}var originalWindowOnError=window$1.onerror;window$1.onerror=function(message,fileName,lineNumber,columnNumber,errorObj){var ret=false;if(originalWindowOnError){for(var _len=arguments.length,args=Array(_len>5?_len-5:0),_key=5;_key<_len;_key+=1){args[_key-5]=arguments[_key]}ret=originalWindowOnError.call.apply(originalWindowOnError,[this,message,fileName,lineNumber,columnNumber,errorObj].concat(args))}if(ret!==true){var error={message:message,fileName:fileName,lineNumber:lineNumber};if(errorObj&&errorObj.stack){error.stacktrace=extractStacktrace(errorObj,0)}ret=QUnit.onError(error)}return ret};window$1.addEventListener("unhandledrejection",function(event){QUnit.onUnhandledRejection(event.reason)})})();QUnit.diff=function(){function DiffMatchPatch(){}var DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;DiffMatchPatch.prototype.DiffMain=function(text1,text2,optChecklines){var deadline,checklines,commonlength,commonprefix,commonsuffix,diffs;deadline=new Date().getTime()+1000;if(text1===null||text2===null){throw new Error("Null input. (DiffMain)")}if(text1===text2){if(text1){return[[DIFF_EQUAL,text1]]}return[]}if(typeof optChecklines==="undefined"){optChecklines=true}checklines=optChecklines;commonlength=this.diffCommonPrefix(text1,text2);commonprefix=text1.substring(0,commonlength);text1=text1.substring(commonlength);text2=text2.substring(commonlength);commonlength=this.diffCommonSuffix(text1,text2);commonsuffix=text1.substring(text1.length-commonlength);text1=text1.substring(0,text1.length-commonlength);text2=text2.substring(0,text2.length-commonlength);diffs=this.diffCompute(text1,text2,checklines,deadline);if(commonprefix){diffs.unshift([DIFF_EQUAL,commonprefix])}if(commonsuffix){diffs.push([DIFF_EQUAL,commonsuffix])}this.diffCleanupMerge(diffs);return diffs};DiffMatchPatch.prototype.diffCleanupEfficiency=function(diffs){var changes,equalities,equalitiesLength,lastequality,pointer,preIns,preDel,postIns,postDel;changes=false;equalities=[];equalitiesLength=0;lastequality=null;pointer=0;preIns=false;preDel=false;postIns=false;postDel=false;while(pointer<diffs.length){if(diffs[pointer][0]===DIFF_EQUAL){if(diffs[pointer][1].length<4&&(postIns||postDel)){equalities[equalitiesLength++]=pointer;preIns=postIns;preDel=postDel;lastequality=diffs[pointer][1]}else{equalitiesLength=0;lastequality=null}postIns=postDel=false;}else{if(diffs[pointer][0]===DIFF_DELETE){postDel=true}else{postIns=true}if(lastequality&&(preIns&&preDel&&postIns&&postDel||lastequality.length<2&&preIns+preDel+postIns+postDel===3)){diffs.splice(equalities[equalitiesLength-1],0,[DIFF_DELETE,lastequality]);diffs[equalities[equalitiesLength-1]+1][0]=DIFF_INSERT;equalitiesLength-=1;lastequality=null;if(preIns&&preDel){postIns=postDel=true;equalitiesLength=0}else{equalitiesLength-=1;pointer=equalitiesLength>0?equalities[equalitiesLength-1]:-1;postIns=postDel=false}changes=true}}pointer+=1}if(changes){this.diffCleanupMerge(diffs)}};DiffMatchPatch.prototype.diffPrettyHtml=function(diffs){var op,data,x,html=[];for(x=0;x<diffs.length;x+=1){op=diffs[x][0];data=diffs[x][1];switch(op){case DIFF_INSERT:html[x]="<ins>"+escapeText(data)+"</ins>";break;case DIFF_DELETE:html[x]="<del>"+escapeText(data)+"</del>";break;case DIFF_EQUAL:html[x]="<span>"+escapeText(data)+"</span>";break}}return html.join("")};DiffMatchPatch.prototype.diffCommonPrefix=function(text1,text2){var pointermid,pointermax,pointermin,pointerstart;if(!text1||!text2||text1.charAt(0)!==text2.charAt(0)){return 0}pointermin=0;pointermax=Math.min(text1.length,text2.length);pointermid=pointermax;pointerstart=0;while(pointermin<pointermid){if(text1.substring(pointerstart,pointermid)===text2.substring(pointerstart,pointermid)){pointermin=pointermid;pointerstart=pointermin}else{pointermax=pointermid}pointermid=Math.floor((pointermax-pointermin)/2+pointermin)}return pointermid};DiffMatchPatch.prototype.diffCommonSuffix=function(text1,text2){var pointermid,pointermax,pointermin,pointerend;if(!text1||!text2||text1.charAt(text1.length-1)!==text2.charAt(text2.length-1)){return 0}pointermin=0;pointermax=Math.min(text1.length,text2.length);pointermid=pointermax;pointerend=0;while(pointermin<pointermid){if(text1.substring(text1.length-pointermid,text1.length-pointerend)===text2.substring(text2.length-pointermid,text2.length-pointerend)){pointermin=pointermid;pointerend=pointermin}else{pointermax=pointermid}pointermid=Math.floor((pointermax-pointermin)/2+pointermin)}return pointermid};DiffMatchPatch.prototype.diffCompute=function(text1,text2,checklines,deadline){var diffs,longtext,shorttext,i,hm,text1A,text2A,text1B,text2B,midCommon,diffsA,diffsB;if(!text1){return[[DIFF_INSERT,text2]]}if(!text2){return[[DIFF_DELETE,text1]]}longtext=text1.length>text2.length?text1:text2;shorttext=text1.length>text2.length?text2:text1;i=longtext.indexOf(shorttext);if(i!==-1){diffs=[[DIFF_INSERT,longtext.substring(0,i)],[DIFF_EQUAL,shorttext],[DIFF_INSERT,longtext.substring(i+shorttext.length)]];if(text1.length>text2.length){diffs[0][0]=diffs[2][0]=DIFF_DELETE}return diffs}if(shorttext.length===1){return[[DIFF_DELETE,text1],[DIFF_INSERT,text2]]}hm=this.diffHalfMatch(text1,text2);if(hm){text1A=hm[0];text1B=hm[1];text2A=hm[2];text2B=hm[3];midCommon=hm[4];diffsA=this.DiffMain(text1A,text2A,checklines,deadline);diffsB=this.DiffMain(text1B,text2B,checklines,deadline);return diffsA.concat([[DIFF_EQUAL,midCommon]],diffsB)}if(checklines&&text1.length>100&&text2.length>100){return this.diffLineMode(text1,text2,deadline)}return this.diffBisect(text1,text2,deadline)};DiffMatchPatch.prototype.diffHalfMatch=function(text1,text2){var longtext,shorttext,dmp,text1A,text2B,text2A,text1B,midCommon,hm1,hm2,hm;longtext=text1.length>text2.length?text1:text2;shorttext=text1.length>text2.length?text2:text1;if(longtext.length<4||shorttext.length*2<longtext.length){return null;}dmp=this;function diffHalfMatchI(longtext,shorttext,i){var seed,j,bestCommon,prefixLength,suffixLength,bestLongtextA,bestLongtextB,bestShorttextA,bestShorttextB;seed=longtext.substring(i,i+Math.floor(longtext.length/4));j=-1;bestCommon="";while((j=shorttext.indexOf(seed,j+1))!==-1){prefixLength=dmp.diffCommonPrefix(longtext.substring(i),shorttext.substring(j));suffixLength=dmp.diffCommonSuffix(longtext.substring(0,i),shorttext.substring(0,j));if(bestCommon.length<suffixLength+prefixLength){bestCommon=shorttext.substring(j-suffixLength,j)+shorttext.substring(j,j+prefixLength);bestLongtextA=longtext.substring(0,i-suffixLength);bestLongtextB=longtext.substring(i+prefixLength);bestShorttextA=shorttext.substring(0,j-suffixLength);bestShorttextB=shorttext.substring(j+prefixLength)}}if(bestCommon.length*2>=longtext.length){return[bestLongtextA,bestLongtextB,bestShorttextA,bestShorttextB,bestCommon]}else{return null}}hm1=diffHalfMatchI(longtext,shorttext,Math.ceil(longtext.length/4));hm2=diffHalfMatchI(longtext,shorttext,Math.ceil(longtext.length/2));if(!hm1&&!hm2){return null}else if(!hm2){hm=hm1}else if(!hm1){hm=hm2}else{hm=hm1[4].length>hm2[4].length?hm1:hm2}if(text1.length>text2.length){text1A=hm[0];text1B=hm[1];text2A=hm[2];text2B=hm[3]}else{text2A=hm[0];text2B=hm[1];text1A=hm[2];text1B=hm[3]}midCommon=hm[4];return[text1A,text1B,text2A,text2B,midCommon]};DiffMatchPatch.prototype.diffLineMode=function(text1,text2,deadline){var a,diffs,linearray,pointer,countInsert,countDelete,textInsert,textDelete,j;a=this.diffLinesToChars(text1,text2);text1=a.chars1;text2=a.chars2;linearray=a.lineArray;diffs=this.DiffMain(text1,text2,false,deadline);this.diffCharsToLines(diffs,linearray);this.diffCleanupSemantic(diffs);diffs.push([DIFF_EQUAL,""]);pointer=0;countDelete=0;countInsert=0;textDelete="";textInsert="";while(pointer<diffs.length){switch(diffs[pointer][0]){case DIFF_INSERT:countInsert+=1;textInsert+=diffs[pointer][1];break;case DIFF_DELETE:countDelete+=1;textDelete+=diffs[pointer][1];break;case DIFF_EQUAL:if(countDelete>=1&&countInsert>=1){diffs.splice(pointer-countDelete-countInsert,countDelete+countInsert);pointer=pointer-countDelete-countInsert;a=this.DiffMain(textDelete,textInsert,false,deadline);for(j=a.length-1;j>=0;j-=1){diffs.splice(pointer,0,a[j])}pointer=pointer+a.length}countInsert=0;countDelete=0;textDelete="";textInsert="";break}pointer+=1}diffs.pop();return diffs};DiffMatchPatch.prototype.diffBisect=function(text1,text2,deadline){var text1Length,text2Length,maxD,vOffset,vLength,v1,v2,x,delta,front,k1start,k1end,k2start,k2end,k2Offset,k1Offset,x1,x2,y1,y2,d,k1,k2;text1Length=text1.length;text2Length=text2.length;maxD=Math.ceil((text1Length+text2Length)/2);vOffset=maxD;vLength=2*maxD;v1=[vLength];v2=[vLength];for(x=0;x<vLength;x+=1){v1[x]=-1;v2[x]=-1}v1[vOffset+1]=0;v2[vOffset+1]=0;delta=text1Length-text2Length;front=delta%2!==0;k1start=0;k1end=0;k2start=0;k2end=0;for(d=0;d<maxD;d+=1){if(new Date().getTime()>deadline){break}for(k1= -d+k1start;k1<=d-k1end;k1+=2){k1Offset=vOffset+k1;if(k1=== -d||k1!==d&&v1[k1Offset-1]<v1[k1Offset+1]){x1=v1[k1Offset+1]}else{x1=v1[k1Offset-1]+1}y1=x1-k1;while(x1<text1Length&&y1<text2Length&&text1.charAt(x1)===text2.charAt(y1)){x1+=1;y1+=1}v1[k1Offset]=x1;if(x1>text1Length){k1end+=2}else if(y1>text2Length){k1start+=2}else if(front){k2Offset=vOffset+delta-k1;if(k2Offset>=0&&k2Offset<vLength&&v2[k2Offset]!==-1){x2=text1Length-v2[k2Offset];if(x1>=x2){return this.diffBisectSplit(text1,text2,x1,y1,deadline)}}}}for(k2= -d+k2start;k2<=d-k2end;k2+=2){k2Offset=vOffset+k2;if(k2=== -d||k2!==d&&v2[k2Offset-1]<v2[k2Offset+1]){x2=v2[k2Offset+1]}else{x2=v2[k2Offset-1]+1}y2=x2-k2;while(x2<text1Length&&y2<text2Length&&text1.charAt(text1Length-x2-1)===text2.charAt(text2Length-y2-1)){x2+=1;y2+=1}v2[k2Offset]=x2;if(x2>text1Length){k2end+=2}else if(y2>text2Length){k2start+=2}else if(!front){k1Offset=vOffset+delta-k2;if(k1Offset>=0&&k1Offset<vLength&&v1[k1Offset]!==-1){x1=v1[k1Offset];y1=vOffset+x1-k1Offset;x2=text1Length-x2;if(x1>=x2){return this.diffBisectSplit(text1,text2,x1,y1,deadline)}}}}}return[[DIFF_DELETE,text1],[DIFF_INSERT,text2]]};DiffMatchPatch.prototype.diffBisectSplit=function(text1,text2,x,y,deadline){var text1a,text1b,text2a,text2b,diffs,diffsb;text1a=text1.substring(0,x);text2a=text2.substring(0,y);text1b=text1.substring(x);text2b=text2.substring(y);diffs=this.DiffMain(text1a,text2a,false,deadline);diffsb=this.DiffMain(text1b,text2b,false,deadline);return diffs.concat(diffsb)};DiffMatchPatch.prototype.diffCleanupSemantic=function(diffs){var changes,equalities,equalitiesLength,lastequality,pointer,lengthInsertions2,lengthDeletions2,lengthInsertions1,lengthDeletions1,deletion,insertion,overlapLength1,overlapLength2;changes=false;equalities=[];equalitiesLength=0;lastequality=null;pointer=0;lengthInsertions1=0;lengthDeletions1=0;lengthInsertions2=0;lengthDeletions2=0;while(pointer<diffs.length){if(diffs[pointer][0]===DIFF_EQUAL){equalities[equalitiesLength++]=pointer;lengthInsertions1=lengthInsertions2;lengthDeletions1=lengthDeletions2;lengthInsertions2=0;lengthDeletions2=0;lastequality=diffs[pointer][1]}else{if(diffs[pointer][0]===DIFF_INSERT){lengthInsertions2+=diffs[pointer][1].length}else{lengthDeletions2+=diffs[pointer][1].length}if(lastequality&&lastequality.length<=Math.max(lengthInsertions1,lengthDeletions1)&&lastequality.length<=Math.max(lengthInsertions2,lengthDeletions2)){diffs.splice(equalities[equalitiesLength-1],0,[DIFF_DELETE,lastequality]);diffs[equalities[equalitiesLength-1]+1][0]=DIFF_INSERT;equalitiesLength-=1;equalitiesLength-=1;pointer=equalitiesLength>0?equalities[equalitiesLength-1]:-1;lengthInsertions1=0;lengthDeletions1=0;lengthInsertions2=0;lengthDeletions2=0;lastequality=null;changes=true}}pointer+=1}if(changes){this.diffCleanupMerge(diffs)}pointer=1;while(pointer<diffs.length){if(diffs[pointer-1][0]===DIFF_DELETE&&diffs[pointer][0]===DIFF_INSERT){deletion=diffs[pointer-1][1];insertion=diffs[pointer][1];overlapLength1=this.diffCommonOverlap(deletion,insertion);overlapLength2=this.diffCommonOverlap(insertion,deletion);if(overlapLength1>=overlapLength2){if(overlapLength1>=deletion.length/2||overlapLength1>=insertion.length/2){diffs.splice(pointer,0,[DIFF_EQUAL,insertion.substring(0,overlapLength1)]);diffs[pointer-1][1]=deletion.substring(0,deletion.length-overlapLength1);diffs[pointer+1][1]=insertion.substring(overlapLength1);pointer+=1}}else{if(overlapLength2>=deletion.length/2||overlapLength2>=insertion.length/2){diffs.splice(pointer,0,[DIFF_EQUAL,deletion.substring(0,overlapLength2)]);diffs[pointer-1][0]=DIFF_INSERT;diffs[pointer-1][1]=insertion.substring(0,insertion.length-overlapLength2);diffs[pointer+1][0]=DIFF_DELETE;diffs[pointer+1][1]=deletion.substring(overlapLength2);pointer+=1}}pointer+=1}pointer+=1}};DiffMatchPatch.prototype.diffCommonOverlap=function(text1,text2){var text1Length,text2Length,textLength,best,length,pattern,found;text1Length=text1.length;text2Length=text2.length;if(text1Length===0||text2Length===0){return 0}if(text1Length>text2Length){text1=text1.substring(text1Length-text2Length)}else if(text1Length<text2Length){text2=text2.substring(0,text1Length)}textLength=Math.min(text1Length,text2Length);if(text1===text2){return textLength}best=0;length=1;while(true){pattern=text1.substring(textLength-length);found=text2.indexOf(pattern);if(found===-1){return best}length+=found;if(found===0||text1.substring(textLength-length)===text2.substring(0,length)){best=length;length+=1}}};DiffMatchPatch.prototype.diffLinesToChars=function(text1,text2){var lineArray,lineHash,chars1,chars2;lineArray=[];lineHash={};lineArray[0]="";function diffLinesToCharsMunge(text){var chars,lineStart,lineEnd,lineArrayLength,line;chars="";lineStart=0;lineEnd=-1;lineArrayLength=lineArray.length;while(lineEnd<text.length-1){lineEnd=text.indexOf("\n",lineStart);if(lineEnd===-1){lineEnd=text.length-1}line=text.substring(lineStart,lineEnd+1);lineStart=lineEnd+1;var lineHashExists=lineHash.hasOwnProperty?lineHash.hasOwnProperty(line):lineHash[line]!==undefined;if(lineHashExists){chars+=String.fromCharCode(lineHash[line])}else{chars+=String.fromCharCode(lineArrayLength);lineHash[line]=lineArrayLength;lineArray[lineArrayLength++]=line}}return chars}chars1=diffLinesToCharsMunge(text1);chars2=diffLinesToCharsMunge(text2);return{chars1:chars1,chars2:chars2,lineArray:lineArray}};DiffMatchPatch.prototype.diffCharsToLines=function(diffs,lineArray){var x,chars,text,y;for(x=0;x<diffs.length;x+=1){chars=diffs[x][1];text=[];for(y=0;y<chars.length;y+=1){text[y]=lineArray[chars.charCodeAt(y)]}diffs[x][1]=text.join("")}};DiffMatchPatch.prototype.diffCleanupMerge=function(diffs){var pointer,countDelete,countInsert,textInsert,textDelete,commonlength,changes,diffPointer,position;diffs.push([DIFF_EQUAL,""]);pointer=0;countDelete=0;countInsert=0;textDelete="";textInsert="";while(pointer<diffs.length){switch(diffs[pointer][0]){case DIFF_INSERT:countInsert+=1;textInsert+=diffs[pointer][1];pointer+=1;break;case DIFF_DELETE:countDelete+=1;textDelete+=diffs[pointer][1];pointer+=1;break;case DIFF_EQUAL:if(countDelete+countInsert>1){if(countDelete!==0&&countInsert!==0){commonlength=this.diffCommonPrefix(textInsert,textDelete);if(commonlength!==0){if(pointer-countDelete-countInsert>0&&diffs[pointer-countDelete-countInsert-1][0]===DIFF_EQUAL){diffs[pointer-countDelete-countInsert-1][1]+=textInsert.substring(0,commonlength)}else{diffs.splice(0,0,[DIFF_EQUAL,textInsert.substring(0,commonlength)]);pointer+=1}textInsert=textInsert.substring(commonlength);textDelete=textDelete.substring(commonlength)}commonlength=this.diffCommonSuffix(textInsert,textDelete);if(commonlength!==0){diffs[pointer][1]=textInsert.substring(textInsert.length-commonlength)+diffs[pointer][1];textInsert=textInsert.substring(0,textInsert.length-commonlength);textDelete=textDelete.substring(0,textDelete.length-commonlength)}}if(countDelete===0){diffs.splice(pointer-countInsert,countDelete+countInsert,[DIFF_INSERT,textInsert])}else if(countInsert===0){diffs.splice(pointer-countDelete,countDelete+countInsert,[DIFF_DELETE,textDelete])}else{diffs.splice(pointer-countDelete-countInsert,countDelete+countInsert,[DIFF_DELETE,textDelete],[DIFF_INSERT,textInsert])}pointer=pointer-countDelete-countInsert+(countDelete?1:0)+(countInsert?1:0)+1}else if(pointer!==0&&diffs[pointer-1][0]===DIFF_EQUAL){diffs[pointer-1][1]+=diffs[pointer][1];diffs.splice(pointer,1)}else{pointer+=1}countInsert=0;countDelete=0;textDelete="";textInsert="";break}}if(diffs[diffs.length-1][1]===""){diffs.pop();}changes=false;pointer=1;while(pointer<diffs.length-1){if(diffs[pointer-1][0]===DIFF_EQUAL&&diffs[pointer+1][0]===DIFF_EQUAL){diffPointer=diffs[pointer][1];position=diffPointer.substring(diffPointer.length-diffs[pointer-1][1].length);if(position===diffs[pointer-1][1]){diffs[pointer][1]=diffs[pointer-1][1]+diffs[pointer][1].substring(0,diffs[pointer][1].length-diffs[pointer-1][1].length);diffs[pointer+1][1]=diffs[pointer-1][1]+diffs[pointer+1][1];diffs.splice(pointer-1,1);changes=true}else if(diffPointer.substring(0,diffs[pointer+1][1].length)===diffs[pointer+1][1]){diffs[pointer-1][1]+=diffs[pointer+1][1];diffs[pointer][1]=diffs[pointer][1].substring(diffs[pointer+1][1].length)+diffs[pointer+1][1];diffs.splice(pointer+1,1);changes=true}}pointer+=1}if(changes){this.diffCleanupMerge(diffs)}};return function(o,n){var diff,output,text;diff=new DiffMatchPatch();output=diff.DiffMain(o,n);diff.diffCleanupEfficiency(output);text=diff.diffPrettyHtml(output);return text}}()}((function(){return this}())));
    </script>
    <script>
        (function() {
            function tester(assert, resolve) {
                return {
                    assert,
                    ok(...args) {
                        return assert.ok(...args);
                    },
                    equal(...args) {
                        return assert.equal(...args);
                    },
                    arrayEqual(actual, expected, message) {
                        return assert.deepEqual(Array.from(actual), Array.from(expected), message);
                    },
                    glParameterEqual(gl, parameter, expected, message) {
                        let actual = gl.getParameter(parameter);
                        if (Array.isArray(actual) || ArrayBuffer.isView(actual)) {
                            return this.arrayEqual(actual, expected, message);
                        } else {
                            return this.equal(actual, expected, message);
                        }
                    },
                    deepEqual(...args) {
                        return assert.deepEqual(...args);
                    },
                    done() {
                        resolve();
                    }
                };
            }

            window.picoTest = function picoTest(name, fn) {
                QUnit.test(name, (assert) => {
                    let canvas = document.createElement("canvas");
                    document.body.appendChild(canvas);
                
                    return new Promise((resolve, reject) => {
                        fn(tester(assert, resolve), canvas);  
                        setTimeout(() => reject("Timeout"), 1000);
                    }).finally(() => document.body.removeChild(canvas));
                });
            }   
        })();
    </script>
    <script>
        if (window.puppeteer_runEnd) {
            QUnit.on("runEnd", puppeteer_runEnd);
        }
    </script>
</head>
<body>
    <div id="qunit"></div>
    <div id="qunit-fixture"></div>
    <script type="module">
        FRAMEWORK_IMPORTS
    </script>
</body>
</html>
